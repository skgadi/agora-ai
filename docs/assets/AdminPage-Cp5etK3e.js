var Ea=Object.defineProperty;var Ia=(e,t,n)=>t in e?Ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nl=(e,t,n)=>Ia(e,typeof t!="symbol"?t+"":t,n);import{A as ge,X as kn,g as de,Y as Ba,r as F,c as b,h as C,Z as yn,_ as Se,G as Ma,B as Ce,E as we,$ as jt,L as za,o as mt,w as ee,a0 as La,a1 as Pa,a2 as Oa,P as Ee,a as xn,C as Yt,D as Fa,a3 as Rl,a4 as Da,a5 as Al,a6 as Vl,M as me,a7 as $l,a8 as El,a9 as $e,aa as Ha,ab as Il,ac as Bl,ad as Pe,d as Te,ae as ja,l as ce,m as te,p as ne,q as W,f as K,R as Na,S as Ua,af as Qa,ag as Ka,ah as Wa,ai as Za,aj as $t,ak as un,J as cn,al as Ga,am as Ja,K as Xa,an as Ya,ao as ut,ap as ei,O as ti,aq as gt,ar as Ge,k as be,F as Fe,as as ll,y as al,x as wn,v as xe,z as Ie,t as _e,u as Sn,Q as ke,U as ni,V as li,at as ai,au as ii}from"./index-dVou86D-.js";import{u as De,d as He,f as Cn,h as _n,i as Tn,j as qn,r as oi,p as il,c as ri,s as Ml,k as qt,l as zl,m as Ll,n as Pl,o as si,q as ol,t as ui,v as ci,g as Ol,w as di,Q as Fl,e as fi}from"./QDialog-CVHfWL5l.js";import{a as dn,Q as hi,d as Dl}from"./defualt-avatar-BgXdPtN2.js";import{u as Hl}from"./use-timeout-D6NHJy6O.js";import{a as Rn,u as Nt,b as jl}from"./socket-store-DK1Fng7X.js";const Nl=ge({name:"QItem",props:{...De,...kn,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=de(),a=He(e,l),{hasLink:i,linkAttrs:o,linkClass:r,linkTag:s,navigateOnClick:u}=Ba(),d=F(null),h=F(null),g=b(()=>e.clickable===!0||i.value===!0||e.tag==="label"),v=b(()=>e.disable!==!0&&g.value===!0),k=b(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(a.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(v.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),S=b(()=>e.insetLevel===void 0?null:{["padding"+(l.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function _(z){v.value===!0&&(h.value!==null&&z.qAvoidFocus!==!0&&(z.qKeyEvent!==!0&&document.activeElement===d.value?h.value.focus():document.activeElement===h.value&&d.value.focus()),u(z))}function U(z){if(v.value===!0&&yn(z,[13,32])===!0){Se(z),z.qKeyEvent=!0;const w=new MouseEvent("click",z);w.qKeyEvent=!0,d.value.dispatchEvent(w)}n("keyup",z)}function j(){const z=Ma(t.default,[]);return v.value===!0&&z.unshift(C("div",{class:"q-focus-helper",tabindex:-1,ref:h})),z}return()=>{const z={ref:d,class:k.value,style:S.value,role:"listitem",onClick:_,onKeyup:U};return v.value===!0?(z.tabindex=e.tabindex||"0",Object.assign(z,o.value)):g.value===!0&&(z["aria-disabled"]="true"),C(s.value,z,j())}}}),Rt=ge({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=b(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>C("div",{class:n.value},Ce(t.default))}}),fn=ge({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=b(()=>parseInt(e.lines,10)),l=b(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),a=b(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>C("div",{style:a.value,class:l.value},Ce(t.default))}}),vi=ge({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let l=!1,a,i,o=null,r=null,s,u;function d(){a?.(),a=null,l=!1,o!==null&&(clearTimeout(o),o=null),r!==null&&(clearTimeout(r),r=null),i?.removeEventListener("transitionend",s),s=null}function h(S,_,U){_!==void 0&&(S.style.height=`${_}px`),S.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,l=!0,a=U}function g(S,_){S.style.overflowY=null,S.style.height=null,S.style.transition=null,d(),_!==u&&n(_)}function v(S,_){let U=0;i=S,l===!0?(d(),U=S.offsetHeight===S.scrollHeight?0:void 0):(u="hide",S.style.overflowY="hidden"),h(S,U,_),o=setTimeout(()=>{o=null,S.style.height=`${S.scrollHeight}px`,s=j=>{r=null,(Object(j)!==j||j.target===S)&&g(S,"show")},S.addEventListener("transitionend",s),r=setTimeout(s,e.duration*1.1)},100)}function k(S,_){let U;i=S,l===!0?d():(u="show",S.style.overflowY="hidden",U=S.scrollHeight),h(S,U,_),o=setTimeout(()=>{o=null,S.style.height=0,s=j=>{r=null,(Object(j)!==j||j.target===S)&&g(S,"hide")},S.addEventListener("transitionend",s),r=setTimeout(s,e.duration*1.1)},100)}return we(()=>{l===!0&&d()}),()=>C(jt,{css:!1,appear:e.appear,onEnter:v,onLeave:k},t.default)}}),mi={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},en={xs:2,sm:4,md:8,lg:16,xl:24},rl=ge({name:"QSeparator",props:{...De,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=de(),n=He(e,t.proxy.$q),l=b(()=>e.vertical===!0?"vertical":"horizontal"),a=b(()=>` q-separator--${l.value}`),i=b(()=>e.inset!==!1?`${a.value}-${mi[e.inset]}`:""),o=b(()=>`q-separator${a.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),r=b(()=>{const s={};if(e.size!==void 0&&(s[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const u=e.spaced===!0?`${en.md}px`:e.spaced in en?`${en[e.spaced]}px`:e.spaced,d=e.vertical===!0?["Left","Right"]:["Top","Bottom"];s[`margin${d[0]}`]=s[`margin${d[1]}`]=u}return s});return()=>C("hr",{class:o.value,style:r.value,"aria-orientation":l.value})}});let tn,St=0;const ve=new Array(256);for(let e=0;e<256;e++)ve[e]=(e+256).toString(16).substring(1);const gi=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),sl=4096;function Et(){(tn===void 0||St+16>sl)&&(St=0,tn=gi(sl));const e=Array.prototype.slice.call(tn,St,St+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ve[e[0]]+ve[e[1]]+ve[e[2]]+ve[e[3]]+"-"+ve[e[4]]+ve[e[5]]+"-"+ve[e[6]]+ve[e[7]]+"-"+ve[e[8]]+ve[e[9]]+"-"+ve[e[10]]+ve[e[11]]+ve[e[12]]+ve[e[13]]+ve[e[14]]+ve[e[15]]}function pi(e){return e??null}function ul(e,t){return e??(t===!0?`f_${Et()}`:null)}function Ul({getValue:e,required:t=!0}={}){if(za.value===!0){const n=e!==void 0?F(pi(e())):F(null);return t===!0&&n.value===null&&mt(()=>{n.value=`f_${Et()}`}),e!==void 0&&ee(e,l=>{n.value=ul(l,t)}),n}return e!==void 0?b(()=>ul(e(),t)):F(`f_${Et()}`)}const Ke=La({}),bi=Object.keys(kn),nn=ge({name:"QExpansionItem",props:{...kn,..._n,...De,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Cn,"click","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=de(),a=He(e,l),i=F(e.modelValue!==null?e.modelValue:e.defaultOpened),o=F(null),r=Ul(),{show:s,hide:u,toggle:d}=Tn({showing:i});let h,g;const v=b(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),k=b(()=>e.contentInsetLevel===void 0?null:{["padding"+(l.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),S=b(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),_=b(()=>{const A={};return bi.forEach(T=>{A[T]=e[T]}),A}),U=b(()=>S.value===!0||e.expandIconToggle!==!0),j=b(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||l.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),z=b(()=>e.disable!==!0&&(S.value===!0||e.expandIconToggle===!0)),w=b(()=>({expanded:i.value===!0,detailsId:r.value,toggle:d,show:s,hide:u})),I=b(()=>{const A=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:l.lang.label[i.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":r.value,"aria-label":A}});ee(()=>e.group,A=>{g?.(),A!==void 0&&E()});function V(A){S.value!==!0&&d(A),n("click",A)}function q(A){A.keyCode===13&&P(A,!0)}function P(A,T){T!==!0&&A.qAvoidFocus!==!0&&o.value?.focus(),d(A),Se(A)}function y(){n("afterShow")}function p(){n("afterHide")}function E(){h===void 0&&(h=Et()),i.value===!0&&(Ke[e.group]=h);const A=ee(i,N=>{N===!0?Ke[e.group]=h:Ke[e.group]===h&&delete Ke[e.group]}),T=ee(()=>Ke[e.group],(N,G)=>{G===h&&N!==void 0&&N!==h&&u()});g=()=>{A(),T(),Ke[e.group]===h&&delete Ke[e.group],g=void 0}}function x(){const A={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},T=[C(Ee,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:j.value})];return z.value===!0&&(Object.assign(A,{tabindex:0,...I.value,onClick:P,onKeyup:q}),T.unshift(C("div",{ref:o,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),C(Rt,A,()=>T)}function L(){let A;return t.header!==void 0?A=[].concat(t.header(w.value)):(A=[C(Rt,()=>[C(fn,{lines:e.labelLines},()=>e.label||""),e.caption?C(fn,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&A[e.switchToggleSide===!0?"push":"unshift"](C(Rt,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>C(Ee,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&A[e.switchToggleSide===!0?"unshift":"push"](x()),A}function O(){const A={ref:"item",style:e.headerStyle,class:e.headerClass,dark:a.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return U.value===!0&&(A.clickable=!0,A.onClick=V,Object.assign(A,S.value===!0?_.value:I.value)),C(Nl,A,L)}function X(){return Pa(C("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:k.value,id:r.value},Ce(t.default)),[[Oa,i.value]])}function D(){const A=[O(),C(vi,{duration:e.duration,onShow:y,onHide:p},X)];return e.expandSeparator===!0&&A.push(C(rl,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:a.value}),C(rl,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:a.value})),A}return e.group!==void 0&&E(),we(()=>{g?.()}),()=>C("div",{class:v.value},[C("div",{class:"q-expansion-item__container relative-position"},D())])}}),ki=["ul","ol"],yi=ge({name:"QList",props:{...De,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=de(),l=He(e,n.proxy.$q),a=b(()=>ki.includes(e.tag)?null:"list"),i=b(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(l.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>C(e.tag,{class:i.value,role:a.value},Ce(t.default))}}),xi={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function wi(){const{props:e,proxy:{$q:t}}=de(),n=xn(Fa,Yt);if(n===Yt)return console.error("QPageSticky needs to be child of QLayout"),Yt;const l=b(()=>{const h=e.position;return{top:h.indexOf("top")!==-1,right:h.indexOf("right")!==-1,bottom:h.indexOf("bottom")!==-1,left:h.indexOf("left")!==-1,vertical:h==="top"||h==="bottom",horizontal:h==="left"||h==="right"}}),a=b(()=>n.header.offset),i=b(()=>n.right.offset),o=b(()=>n.footer.offset),r=b(()=>n.left.offset),s=b(()=>{let h=0,g=0;const v=l.value,k=t.lang.rtl===!0?-1:1;v.top===!0&&a.value!==0?g=`${a.value}px`:v.bottom===!0&&o.value!==0&&(g=`${-o.value}px`),v.left===!0&&r.value!==0?h=`${k*r.value}px`:v.right===!0&&i.value!==0&&(h=`${-k*i.value}px`);const S={transform:`translate(${h}, ${g})`};return e.offset&&(S.margin=`${e.offset[1]}px ${e.offset[0]}px`),v.vertical===!0?(r.value!==0&&(S[t.lang.rtl===!0?"right":"left"]=`${r.value}px`),i.value!==0&&(S[t.lang.rtl===!0?"left":"right"]=`${i.value}px`)):v.horizontal===!0&&(a.value!==0&&(S.top=`${a.value}px`),o.value!==0&&(S.bottom=`${o.value}px`)),S}),u=b(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function d(h){const g=Ce(h.default);return C("div",{class:u.value,style:s.value},e.expand===!0?g:[C("div",g)])}return{$layout:n,getStickyContent:d}}const Ql=ge({name:"QPageSticky",props:xi,setup(e,{slots:t}){const{getStickyContent:n}=wi();return()=>n(t)}}),cl=/^on[A-Z]/;function Si(){const{attrs:e,vnode:t}=de(),n={listeners:F({}),attributes:F({})};function l(){const a={},i={};for(const o in e)o!=="class"&&o!=="style"&&cl.test(o)===!1&&(a[o]=e[o]);for(const o in t.props)cl.test(o)===!0&&(i[o]=t.props[o]);n.attributes.value=a,n.listeners.value=i}return Rl(l),l(),n}function Ci({validate:e,resetValidation:t,requiresQForm:n}){const l=xn(Da,!1);if(l!==!1){const{props:a,proxy:i}=de();Object.assign(i,{validate:e,resetValidation:t}),ee(()=>a.disable,o=>{o===!0?(typeof t=="function"&&t(),l.unbindComponent(i)):l.bindComponent(i)}),mt(()=>{a.disable!==!0&&l.bindComponent(i)}),we(()=>{a.disable!==!0&&l.unbindComponent(i)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const dl=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,fl=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,hl=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ct=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,_t=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ln={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>dl.test(e),hexaColor:e=>fl.test(e),hexOrHexaColor:e=>hl.test(e),rgbColor:e=>Ct.test(e),rgbaColor:e=>_t.test(e),rgbOrRgbaColor:e=>Ct.test(e)||_t.test(e),hexOrRgbColor:e=>dl.test(e)||Ct.test(e),hexaOrRgbaColor:e=>fl.test(e)||_t.test(e),anyColor:e=>hl.test(e)||Ct.test(e)||_t.test(e)},_i=[!0,!1,"ondemand"],Ti={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>_i.includes(e)}};function qi(e,t){const{props:n,proxy:l}=de(),a=F(!1),i=F(null),o=F(!1);Ci({validate:S,resetValidation:k});let r=0,s;const u=b(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),d=b(()=>n.disable!==!0&&u.value===!0&&t.value===!1),h=b(()=>n.error===!0||a.value===!0),g=b(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:i.value);ee(()=>n.modelValue,()=>{o.value=!0,d.value===!0&&n.lazyRules===!1&&_()});function v(){n.lazyRules!=="ondemand"&&d.value===!0&&o.value===!0&&_()}ee(()=>n.reactiveRules,U=>{U===!0?s===void 0&&(s=ee(()=>n.rules,v,{immediate:!0,deep:!0})):s!==void 0&&(s(),s=void 0)},{immediate:!0}),ee(()=>n.lazyRules,v),ee(e,U=>{U===!0?o.value=!0:d.value===!0&&n.lazyRules!=="ondemand"&&_()});function k(){r++,t.value=!1,o.value=!1,a.value=!1,i.value=null,_.cancel()}function S(U=n.modelValue){if(n.disable===!0||u.value===!1)return!0;const j=++r,z=t.value!==!0?()=>{o.value=!0}:()=>{},w=(V,q)=>{V===!0&&z(),a.value=V,i.value=q||null,t.value=!1},I=[];for(let V=0;V<n.rules.length;V++){const q=n.rules[V];let P;if(typeof q=="function"?P=q(U,ln):typeof q=="string"&&ln[q]!==void 0&&(P=ln[q](U)),P===!1||typeof P=="string")return w(!0,P),!1;P!==!0&&P!==void 0&&I.push(P)}return I.length===0?(w(!1),!0):(t.value=!0,Promise.all(I).then(V=>{if(V===void 0||Array.isArray(V)===!1||V.length===0)return j===r&&w(!1),!0;const q=V.find(P=>P===!1||typeof P=="string");return j===r&&w(q!==void 0,q),q===void 0},V=>(j===r&&(console.error(V),w(!0)),!1)))}const _=Al(S,0);return we(()=>{s?.(),_.cancel()}),Object.assign(l,{resetValidation:k,validate:S}),Vl(l,"hasError",()=>h.value),{isDirtyModel:o,hasRules:u,hasError:h,errorMessage:g,validate:S,resetValidation:k}}function vt(e){return e!=null&&(""+e).length!==0}const Ri={...De,...Ti,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Ut={...Ri,maxlength:[Number,String]},An=["update:modelValue","clear","focus","blur"];function Vn({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:l,proxy:a}=de(),i=He(l,a.$q),o=Ul({required:e,getValue:()=>l.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?b(()=>l.tag):{value:"label"},isDark:i,editable:b(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:F(!1),focused:F(!1),hasPopupOpen:!1,splitAttrs:Si(),targetUid:o,rootRef:F(null),targetRef:F(null),controlRef:F(null)}}function $n(e){const{props:t,emit:n,slots:l,attrs:a,proxy:i}=de(),{$q:o}=i;let r=null;e.hasValue===void 0&&(e.hasValue=b(()=>vt(t.modelValue))),e.emitValue===void 0&&(e.emitValue=T=>{n("update:modelValue",T)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:y,onFocusout:p}),Object.assign(e,{clearValue:E,onControlFocusin:y,onControlFocusout:p,focus:q}),e.computedCounter===void 0&&(e.computedCounter=b(()=>{if(t.counter!==!1){const T=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,N=t.maxlength!==void 0?t.maxlength:t.maxValues;return T+(N!==void 0?" / "+N:"")}}));const{isDirtyModel:s,hasRules:u,hasError:d,errorMessage:h,resetValidation:g}=qi(e.focused,e.innerLoading),v=e.floatingLabel!==void 0?b(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):b(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),k=b(()=>t.bottomSlots===!0||t.hint!==void 0||u.value===!0||t.counter===!0||t.error!==null),S=b(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),_=b(()=>`q-field row no-wrap items-start q-field--${S.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(v.value===!0?" q-field--float":"")+(j.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(d.value===!0?" q-field--error":"")+(d.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&k.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),U=b(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(d.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),j=b(()=>t.labelSlot===!0||t.label!==void 0),z=b(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&d.value!==!0?` text-${t.labelColor}`:"")),w=b(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:v.value,modelValue:t.modelValue,emitValue:e.emitValue})),I=b(()=>{const T={};return e.targetUid.value&&(T.for=e.targetUid.value),t.disable===!0&&(T["aria-disabled"]="true"),T});function V(){const T=document.activeElement;let N=e.targetRef?.value;N&&(T===null||T.id!==e.targetUid.value)&&(N.hasAttribute("tabindex")===!0||(N=N.querySelector("[tabindex]")),N!==T&&N?.focus({preventScroll:!0}))}function q(){qn(V)}function P(){oi(V);const T=document.activeElement;T!==null&&e.rootRef.value.contains(T)&&T.blur()}function y(T){r!==null&&(clearTimeout(r),r=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",T))}function p(T,N){r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",T)),N?.())})}function E(T){Se(T),o.platform.is.mobile!==!0?(e.targetRef?.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),me(()=>{const N=s.value;g(),s.value=N})}function x(T){[13,32].includes(T.keyCode)&&E(T)}function L(){const T=[];return l.prepend!==void 0&&T.push(C("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:$e},l.prepend())),T.push(C("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},O())),d.value===!0&&t.noErrorIcon===!1&&T.push(D("error",[C(Ee,{name:o.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?T.push(D("inner-loading-append",l.loading!==void 0?l.loading():[C(Ha,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&T.push(D("inner-clearable-append",[C(Ee,{class:"q-field__focusable-action",name:t.clearIcon||o.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":o.lang.label.clear,onKeyup:x,onClick:E})])),l.append!==void 0&&T.push(C("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:$e},l.append())),e.getInnerAppend!==void 0&&T.push(D("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&T.push(e.getControlChild()),T}function O(){const T=[];return t.prefix!==void 0&&t.prefix!==null&&T.push(C("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&T.push(e.getShadowControl()),e.getControl!==void 0?T.push(e.getControl()):l.rawControl!==void 0?T.push(l.rawControl()):l.control!==void 0&&T.push(C("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(w.value))),j.value===!0&&T.push(C("div",{class:z.value},Ce(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&T.push(C("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),T.concat(Ce(l.default))}function X(){let T,N;d.value===!0?h.value!==null?(T=[C("div",{role:"alert"},h.value)],N=`q--slot-error-${h.value}`):(T=Ce(l.error),N="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(T=[C("div",t.hint)],N=`q--slot-hint-${t.hint}`):(T=Ce(l.hint),N="q--slot-hint"));const G=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&G===!1&&T===void 0)return;const m=C("div",{key:N,class:"q-field__messages col"},T);return C("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:$e},[t.hideBottomSpace===!0?m:C(jt,{name:"q-transition--field-message"},()=>m),G===!0?C("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function D(T,N){return N===null?null:C("div",{key:T,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},N)}let A=!1;return $l(()=>{A=!0}),El(()=>{A===!0&&t.autofocus===!0&&i.focus()}),t.autofocus===!0&&mt(()=>{i.focus()}),we(()=>{r!==null&&clearTimeout(r)}),Object.assign(i,{focus:q,blur:P}),function(){const N=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...I.value}:I.value;return C(e.tag.value,{ref:e.rootRef,class:[_.value,a.class],style:a.style,...N},[l.before!==void 0?C("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:$e},l.before()):null,C("div",{class:"q-field__inner relative-position col self-stretch"},[C("div",{ref:e.controlRef,class:U.value,tabindex:-1,...e.controlEvents},L()),k.value===!0?X():null]),l.after!==void 0?C("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:$e},l.after()):null])}}const vl={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},It={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Kl=Object.keys(It);Kl.forEach(e=>{It[e].regex=new RegExp(It[e].pattern)});const Ai=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Kl.join("")+"])|(.)","g"),ml=/[.*+?^${}()|[\]\\]/g,ue="",Vi={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function $i(e,t,n,l){let a,i,o,r,s,u;const d=F(null),h=F(v());function g(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}ee(()=>e.type+e.autogrow,S),ee(()=>e.mask,y=>{if(y!==void 0)_(h.value,!0);else{const p=q(h.value);S(),e.modelValue!==p&&t("update:modelValue",p)}}),ee(()=>e.fillMask+e.reverseFillMask,()=>{d.value===!0&&_(h.value,!0)}),ee(()=>e.unmaskedValue,()=>{d.value===!0&&_(h.value)});function v(){if(S(),d.value===!0){const y=I(q(e.modelValue));return e.fillMask!==!1?P(y):y}return e.modelValue}function k(y){if(y<a.length)return a.slice(-y);let p="",E=a;const x=E.indexOf(ue);if(x!==-1){for(let L=y-E.length;L>0;L--)p+=ue;E=E.slice(0,x)+p+E.slice(x)}return E}function S(){if(d.value=e.mask!==void 0&&e.mask.length!==0&&g(),d.value===!1){r=void 0,a="",i="";return}const y=vl[e.mask]===void 0?e.mask:vl[e.mask],p=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",E=p.replace(ml,"\\$&"),x=[],L=[],O=[];let X=e.reverseFillMask===!0,D="",A="";y.replace(Ai,(m,f,R,J,Z)=>{if(J!==void 0){const H=It[J];O.push(H),A=H.negate,X===!0&&(L.push("(?:"+A+"+)?("+H.pattern+"+)?(?:"+A+"+)?("+H.pattern+"+)?"),X=!1),L.push("(?:"+A+"+)?("+H.pattern+")?")}else if(R!==void 0)D="\\"+(R==="\\"?"":R),O.push(R),x.push("([^"+D+"]+)?"+D+"?");else{const H=f!==void 0?f:Z;D=H==="\\"?"\\\\\\\\":H.replace(ml,"\\\\$&"),O.push(H),x.push("([^"+D+"]+)?"+D+"?")}});const T=new RegExp("^"+x.join("")+"("+(D===""?".":"[^"+D+"]")+"+)?"+(D===""?"":"["+D+"]*")+"$"),N=L.length-1,G=L.map((m,f)=>f===0&&e.reverseFillMask===!0?new RegExp("^"+E+"*"+m):f===N?new RegExp("^"+m+"("+(A===""?".":A)+"+)?"+(e.reverseFillMask===!0?"$":E+"*")):new RegExp("^"+m));o=O,r=m=>{const f=T.exec(e.reverseFillMask===!0?m:m.slice(0,O.length+1));f!==null&&(m=f.slice(1).join(""));const R=[],J=G.length;for(let Z=0,H=m;Z<J;Z++){const Q=G[Z].exec(H);if(Q===null)break;H=H.slice(Q.shift().length),R.push(...Q)}return R.length!==0?R.join(""):m},a=O.map(m=>typeof m=="string"?m:ue).join(""),i=a.split(ue).join(p)}function _(y,p,E){const x=l.value,L=x.selectionEnd,O=x.value.length-L,X=q(y);p===!0&&S();const D=I(X),A=e.fillMask!==!1?P(D):D,T=h.value!==A;x.value!==A&&(x.value=A),T===!0&&(h.value=A),document.activeElement===x&&me(()=>{if(A===i){const G=e.reverseFillMask===!0?i.length:0;x.setSelectionRange(G,G,"forward");return}if(E==="insertFromPaste"&&e.reverseFillMask!==!0){const G=x.selectionEnd;let m=L-1;for(let f=s;f<=m&&f<G;f++)a[f]!==ue&&m++;j.right(x,m);return}if(["deleteContentBackward","deleteContentForward"].indexOf(E)!==-1){const G=e.reverseFillMask===!0?L===0?A.length>D.length?1:0:Math.max(0,A.length-(A===i?0:Math.min(D.length,O)+1))+1:L;x.setSelectionRange(G,G,"forward");return}if(e.reverseFillMask===!0)if(T===!0){const G=Math.max(0,A.length-(A===i?0:Math.min(D.length,O+1)));G===1&&L===1?x.setSelectionRange(G,G,"forward"):j.rightReverse(x,G)}else{const G=A.length-O;x.setSelectionRange(G,G,"backward")}else if(T===!0){const G=Math.max(0,a.indexOf(ue),Math.min(D.length,L)-1);j.right(x,G)}else{const G=L-1;j.right(x,G)}});const N=e.unmaskedValue===!0?q(A):A;String(e.modelValue)!==N&&(e.modelValue!==null||N!=="")&&n(N,!0)}function U(y,p,E){const x=I(q(y.value));p=Math.max(0,a.indexOf(ue),Math.min(x.length,p)),s=p,y.setSelectionRange(p,E,"forward")}const j={left(y,p){const E=a.slice(p-1).indexOf(ue)===-1;let x=Math.max(0,p-1);for(;x>=0;x--)if(a[x]===ue){p=x,E===!0&&p++;break}if(x<0&&a[p]!==void 0&&a[p]!==ue)return j.right(y,0);p>=0&&y.setSelectionRange(p,p,"backward")},right(y,p){const E=y.value.length;let x=Math.min(E,p+1);for(;x<=E;x++)if(a[x]===ue){p=x;break}else a[x-1]===ue&&(p=x);if(x>E&&a[p-1]!==void 0&&a[p-1]!==ue)return j.left(y,E);y.setSelectionRange(p,p,"forward")},leftReverse(y,p){const E=k(y.value.length);let x=Math.max(0,p-1);for(;x>=0;x--)if(E[x-1]===ue){p=x;break}else if(E[x]===ue&&(p=x,x===0))break;if(x<0&&E[p]!==void 0&&E[p]!==ue)return j.rightReverse(y,0);p>=0&&y.setSelectionRange(p,p,"backward")},rightReverse(y,p){const E=y.value.length,x=k(E),L=x.slice(0,p+1).indexOf(ue)===-1;let O=Math.min(E,p+1);for(;O<=E;O++)if(x[O-1]===ue){p=O,p>0&&L===!0&&p--;break}if(O>E&&x[p-1]!==void 0&&x[p-1]!==ue)return j.leftReverse(y,E);y.setSelectionRange(p,p,"forward")}};function z(y){t("click",y),u=void 0}function w(y){if(t("keydown",y),Il(y)===!0||y.altKey===!0)return;const p=l.value,E=p.selectionStart,x=p.selectionEnd;if(y.shiftKey||(u=void 0),y.keyCode===37||y.keyCode===39){y.shiftKey&&u===void 0&&(u=p.selectionDirection==="forward"?E:x);const L=j[(y.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(y.preventDefault(),L(p,u===E?x:E),y.shiftKey){const O=p.selectionStart;p.setSelectionRange(Math.min(u,O),Math.max(u,O),"forward")}}else y.keyCode===8&&e.reverseFillMask!==!0&&E===x?(j.left(p,E),p.setSelectionRange(p.selectionStart,x,"backward")):y.keyCode===46&&e.reverseFillMask===!0&&E===x&&(j.rightReverse(p,x),p.setSelectionRange(E,p.selectionEnd,"forward"))}function I(y){if(y==null||y==="")return"";if(e.reverseFillMask===!0)return V(y);const p=o;let E=0,x="";for(let L=0;L<p.length;L++){const O=y[E],X=p[L];if(typeof X=="string")x+=X,O===X&&E++;else if(O!==void 0&&X.regex.test(O))x+=X.transform!==void 0?X.transform(O):O,E++;else return x}return x}function V(y){const p=o,E=a.indexOf(ue);let x=y.length-1,L="";for(let O=p.length-1;O>=0&&x!==-1;O--){const X=p[O];let D=y[x];if(typeof X=="string")L=X+L,D===X&&x--;else if(D!==void 0&&X.regex.test(D))do L=(X.transform!==void 0?X.transform(D):D)+L,x--,D=y[x];while(E===O&&D!==void 0&&X.regex.test(D));else return L}return L}function q(y){return typeof y!="string"||r===void 0?typeof y=="number"?r(""+y):y:r(y)}function P(y){return i.length-y.length<=0?y:e.reverseFillMask===!0&&y.length!==0?i.slice(0,-y.length)+y:y+i.slice(y.length)}return{innerValue:h,hasMask:d,moveCursorForPaste:U,updateMaskValue:_,onMaskedKeydown:w,onMaskedClick:z}}const Wl={name:String};function Zl(e){return b(()=>e.name||e.for)}function Ei(e,t){function n(){const l=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(i=>{a.items.add(i)}),{files:a.files}}catch{return{files:void 0}}}return b(()=>{if(e.type==="file")return n()})}const Ii=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Bi=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Mi=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,zi=/[a-z0-9_ -]$/i;function Gl(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Bl.is.firefox===!0?zi.test(n.data)===!1:Ii.test(n.data)===!0||Bi.test(n.data)===!0||Mi.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Oe=ge({name:"QInput",inheritAttrs:!1,props:{...Ut,...Vi,...Wl,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...An,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:l}=de(),{$q:a}=l,i={};let o=NaN,r,s,u=null,d;const h=F(null),g=Zl(e),{innerValue:v,hasMask:k,moveCursorForPaste:S,updateMaskValue:_,onMaskedKeydown:U,onMaskedClick:j}=$i(e,t,D,h),z=Ei(e),w=b(()=>vt(v.value)),I=Gl(O),V=Vn({changeEvent:!0}),q=b(()=>e.type==="textarea"||e.autogrow===!0),P=b(()=>q.value===!0||["text","search","url","tel","password"].includes(e.type)),y=b(()=>{const f={...V.splitAttrs.listeners.value,onInput:O,onPaste:L,onChange:T,onBlur:N,onFocus:Pe};return f.onCompositionstart=f.onCompositionupdate=f.onCompositionend=I,k.value===!0&&(f.onKeydown=U,f.onClick=j),e.autogrow===!0&&(f.onAnimationend=X),f}),p=b(()=>{const f={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:g.value,...V.splitAttrs.attributes.value,id:V.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return q.value===!1&&(f.type=e.type),e.autogrow===!0&&(f.rows=1),f});ee(()=>e.type,()=>{h.value&&(h.value.value=e.modelValue)}),ee(()=>e.modelValue,f=>{if(k.value===!0){if(s===!0&&(s=!1,String(f)===o))return;_(f)}else v.value!==f&&(v.value=f,e.type==="number"&&i.hasOwnProperty("value")===!0&&(r===!0?r=!1:delete i.value));e.autogrow===!0&&me(A)}),ee(()=>e.autogrow,f=>{f===!0?me(A):h.value!==null&&n.rows>0&&(h.value.style.height="auto")}),ee(()=>e.dense,()=>{e.autogrow===!0&&me(A)});function E(){qn(()=>{const f=document.activeElement;h.value!==null&&h.value!==f&&(f===null||f.id!==V.targetUid.value)&&h.value.focus({preventScroll:!0})})}function x(){h.value?.select()}function L(f){if(k.value===!0&&e.reverseFillMask!==!0){const R=f.target;S(R,R.selectionStart,R.selectionEnd)}t("paste",f)}function O(f){if(!f||!f.target)return;if(e.type==="file"){t("update:modelValue",f.target.files);return}const R=f.target.value;if(f.target.qComposing===!0){i.value=R;return}if(k.value===!0)_(R,!1,f.inputType);else if(D(R),P.value===!0&&f.target===document.activeElement){const{selectionStart:J,selectionEnd:Z}=f.target;J!==void 0&&Z!==void 0&&me(()=>{f.target===document.activeElement&&R.indexOf(f.target.value)===0&&f.target.setSelectionRange(J,Z)})}e.autogrow===!0&&A()}function X(f){t("animationend",f),A()}function D(f,R){d=()=>{u=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==f&&o!==f&&(o=f,R===!0&&(s=!0),t("update:modelValue",f),me(()=>{o===f&&(o=NaN)})),d=void 0},e.type==="number"&&(r=!0,i.value=f),e.debounce!==void 0?(u!==null&&clearTimeout(u),i.value=f,u=setTimeout(d,e.debounce)):d()}function A(){requestAnimationFrame(()=>{const f=h.value;if(f!==null){const R=f.parentNode.style,{scrollTop:J}=f,{overflowY:Z,maxHeight:H}=a.platform.is.firefox===!0?{}:window.getComputedStyle(f),Q=Z!==void 0&&Z!=="scroll";Q===!0&&(f.style.overflowY="hidden"),R.marginBottom=f.scrollHeight-1+"px",f.style.height="1px",f.style.height=f.scrollHeight+"px",Q===!0&&(f.style.overflowY=parseInt(H,10)<f.scrollHeight?"auto":"hidden"),R.marginBottom="",f.scrollTop=J}})}function T(f){I(f),u!==null&&(clearTimeout(u),u=null),d?.(),t("change",f.target.value)}function N(f){f!==void 0&&Pe(f),u!==null&&(clearTimeout(u),u=null),d?.(),r=!1,s=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=v.value!==void 0?v.value:"")})}function G(){return i.hasOwnProperty("value")===!0?i.value:v.value!==void 0?v.value:""}we(()=>{N()}),mt(()=>{e.autogrow===!0&&A()}),Object.assign(V,{innerValue:v,fieldClass:b(()=>`q-${q.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:b(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:h,emitValue:D,hasValue:w,floatingLabel:b(()=>w.value===!0&&(e.type!=="number"||isNaN(v.value)===!1)||vt(e.displayValue)),getControl:()=>C(q.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...p.value,...y.value,...e.type!=="file"?{value:G()}:z.value}),getShadowControl:()=>C("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(q.value===!0?"":" text-no-wrap")},[C("span",{class:"invisible"},G()),C("span",e.shadowText)])});const m=$n(V);return Object.assign(l,{focus:E,select:x,getNativeElement:()=>h.value}),Vl(l,"nativeEl",()=>h.value),m}}),Li="5sH8pO19f$?~",Pi={style:{"min-width":"300px"}},Oi=Te({__name:"PasswordCheck",setup(e){const t=F(""),n=F(!1);return ee(t,l=>{l===Li?n.value=!0:n.value=!1},{immediate:!0}),(l,a)=>n.value?ja(l.$slots,"default",{key:0}):(ne(),ce(dn,{key:1,class:"row items-center justify-evenly"},{default:te(()=>[W("div",Pi,[K(Oe,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=i=>t.value=i),type:"password",outlined:"",rounded:"",autofocus:"",label:"Password to show the admin page",class:"q-mb-md"},{prepend:te(()=>[K(Ee,{name:"lock"})]),_:1},8,["modelValue"])])]),_:1}))}}),Fi=ge({name:"QField",inheritAttrs:!1,props:{...Ut,tag:{type:String,default:"label"}},emits:An,setup(){return $n(Vn({tagProp:!0}))}}),Di={xs:8,sm:10,md:14,lg:20,xl:24},Hi=ge({name:"QChip",props:{...De,...Na,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=de(),a=He(e,l),i=Ua(e,Di),o=b(()=>e.selected===!0||e.icon!==void 0),r=b(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),s=b(()=>e.iconRemove||l.iconSet.chip.remove),u=b(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=b(()=>{const _=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(_?` text-${_} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(u.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),h=b(()=>{const _=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},U={..._,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:_,remove:U}});function g(_){_.keyCode===13&&v(_)}function v(_){e.disable||(n("update:selected",!e.selected),n("click",_))}function k(_){(_.keyCode===void 0||_.keyCode===13)&&(Se(_),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function S(){const _=[];u.value===!0&&_.push(C("div",{class:"q-focus-helper"})),o.value===!0&&_.push(C(Ee,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const U=e.label!==void 0?[C("div",{class:"ellipsis"},[e.label])]:void 0;return _.push(C("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ka(t.default,U))),e.iconRight&&_.push(C(Ee,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&_.push(C(Ee,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:s.value,...h.value.remove,onClick:k,onKeyup:k})),_}return()=>{if(e.modelValue===!1)return;const _={class:d.value,style:i.value};return u.value===!0&&Object.assign(_,h.value.chip,{onClick:v,onKeyup:g}),Qa("div",_,S(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Wa,e.ripple]])}}});function hn(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Za.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Jl={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},ji={...Jl,contextMenu:Boolean};function Xl({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:l,proxy:a,emit:i}=de(),o=F(null);let r=null;function s(v){return o.value===null?!1:v===void 0||v.touches===void 0||v.touches.length<=1}const u={};n===void 0&&(Object.assign(u,{hide(v){a.hide(v)},toggle(v){a.toggle(v),v.qAnchorHandled=!0},toggleKey(v){yn(v,13)===!0&&u.toggle(v)},contextClick(v){a.hide(v),$e(v),me(()=>{a.show(v),v.qAnchorHandled=!0})},prevent:$e,mobileTouch(v){if(u.mobileCleanup(v),s(v)!==!0)return;a.hide(v),o.value.classList.add("non-selectable");const k=v.target;$t(u,"anchor",[[k,"touchmove","mobileCleanup","passive"],[k,"touchend","mobileCleanup","passive"],[k,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,a.show(v),v.qAnchorHandled=!0},300)},mobileCleanup(v){o.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&v!==void 0&&hn()}}),n=function(v=l.contextMenu){if(l.noParentEvent===!0||o.value===null)return;let k;v===!0?a.$q.platform.is.mobile===!0?k=[[o.value,"touchstart","mobileTouch","passive"]]:k=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:k=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],$t(u,"anchor",k)});function d(){un(u,"anchor")}function h(v){for(o.value=v;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;n()}function g(){if(l.target===!1||l.target===""||a.$el.parentNode===null)o.value=null;else if(l.target===!0)h(a.$el.parentNode);else{let v=l.target;if(typeof l.target=="string")try{v=document.querySelector(l.target)}catch{v=void 0}v!=null?(o.value=v.$el||v,n()):(o.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return ee(()=>l.contextMenu,v=>{o.value!==null&&(d(),n(v))}),ee(()=>l.target,()=>{o.value!==null&&d(),g()}),ee(()=>l.noParentEvent,v=>{o.value!==null&&(v===!0?d():n())}),mt(()=>{g(),t!==!0&&l.modelValue===!0&&o.value===null&&i("update:modelValue",!1)}),we(()=>{r!==null&&clearTimeout(r),d()}),{anchorEl:o,canShow:s,anchorEvents:u}}function Yl(e,t){const n=F(null);let l;function a(r,s){const u=`${s!==void 0?"add":"remove"}EventListener`,d=s!==void 0?s:l;r!==window&&r[u]("scroll",d,cn.passive),window[u]("scroll",d,cn.passive),l=s}function i(){n.value!==null&&(a(n.value),n.value=null)}const o=ee(()=>e.noParentEvent,()=>{n.value!==null&&(i(),t())});return we(o),{localScrollTarget:n,unconfigureScrollTarget:i,changeScrollEvent:a}}const{notPassiveCapture:Bt}=cn,We=[];function Mt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=il.length-1;for(;n>=0;){const l=il[n].$;if(l.type.name==="QTooltip"){n--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;n--}for(let l=We.length-1;l>=0;l--){const a=We[l];if((a.anchorEl.value===null||a.anchorEl.value.contains(t)===!1)&&(t===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(t)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function ea(e){We.push(e),We.length===1&&(document.addEventListener("mousedown",Mt,Bt),document.addEventListener("touchstart",Mt,Bt))}function zt(e){const t=We.findIndex(n=>n===e);t!==-1&&(We.splice(t,1),We.length===0&&(document.removeEventListener("mousedown",Mt,Bt),document.removeEventListener("touchstart",Mt,Bt)))}let gl,pl;function Lt(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function ta(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const vn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{vn[`${e}#ltr`]=e,vn[`${e}#rtl`]=e});function Pt(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:vn[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Ni(e,t){let{top:n,left:l,right:a,bottom:i,width:o,height:r}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],l-=t[0],i+=t[1],a+=t[0],o+=t[0],r+=t[1]),{top:n,bottom:i,height:r,left:l,right:a,width:o,middle:l+(a-l)/2,center:n+(i-n)/2}}function Ui(e,t,n){let{top:l,left:a}=e.getBoundingClientRect();return l+=t.top,a+=t.left,n!==void 0&&(l+=n[1],a+=n[0]),{top:l,bottom:l+1,height:1,left:a,right:a+1,width:1,middle:a,center:l}}function Qi(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function bl(e,t,n,l){return{top:e[n.vertical]-t[l.vertical],left:e[n.horizontal]-t[l.horizontal]}}function En(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{En(e,t+1)},10);return}const{targetEl:n,offset:l,anchorEl:a,anchorOrigin:i,selfOrigin:o,absoluteOffset:r,fit:s,cover:u,maxHeight:d,maxWidth:h}=e;if(Bl.is.ios===!0&&window.visualViewport!==void 0){const V=document.body.style,{offsetLeft:q,offsetTop:P}=window.visualViewport;q!==gl&&(V.setProperty("--q-pe-left",q+"px"),gl=q),P!==pl&&(V.setProperty("--q-pe-top",P+"px"),pl=P)}const{scrollLeft:g,scrollTop:v}=n,k=r===void 0?Ni(a,u===!0?[0,0]:l):Ui(a,r,l);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:h,maxHeight:d,visibility:"visible"});const{offsetWidth:S,offsetHeight:_}=n,{elWidth:U,elHeight:j}=s===!0||u===!0?{elWidth:Math.max(k.width,S),elHeight:u===!0?Math.max(k.height,_):_}:{elWidth:S,elHeight:_};let z={maxWidth:h,maxHeight:d};(s===!0||u===!0)&&(z.minWidth=k.width+"px",u===!0&&(z.minHeight=k.height+"px")),Object.assign(n.style,z);const w=Qi(U,j);let I=bl(k,w,i,o);if(r===void 0||l===void 0)an(I,k,w,i,o);else{const{top:V,left:q}=I;an(I,k,w,i,o);let P=!1;if(I.top!==V){P=!0;const y=2*l[1];k.center=k.top-=y,k.bottom-=y+2}if(I.left!==q){P=!0;const y=2*l[0];k.middle=k.left-=y,k.right-=y+2}P===!0&&(I=bl(k,w,i,o),an(I,k,w,i,o))}z={top:I.top+"px",left:I.left+"px"},I.maxHeight!==void 0&&(z.maxHeight=I.maxHeight+"px",k.height>I.maxHeight&&(z.minHeight=z.maxHeight)),I.maxWidth!==void 0&&(z.maxWidth=I.maxWidth+"px",k.width>I.maxWidth&&(z.minWidth=z.maxWidth)),Object.assign(n.style,z),n.scrollTop!==v&&(n.scrollTop=v),n.scrollLeft!==g&&(n.scrollLeft=g)}function an(e,t,n,l,a){const i=n.bottom,o=n.right,r=ri(),s=window.innerHeight-r,u=document.body.clientWidth;if(e.top<0||e.top+i>s)if(a.vertical==="center")e.top=t[l.vertical]>s/2?Math.max(0,s-i):0,e.maxHeight=Math.min(i,s);else if(t[l.vertical]>s/2){const d=Math.min(s,l.vertical==="center"?t.center:l.vertical===a.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,d),e.top=Math.max(0,d-i)}else e.top=Math.max(0,l.vertical==="center"?t.center:l.vertical===a.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,s-e.top);if(e.left<0||e.left+o>u)if(e.maxWidth=Math.min(o,u),a.horizontal==="middle")e.left=t[l.horizontal]>u/2?Math.max(0,u-o):0;else if(t[l.horizontal]>u/2){const d=Math.min(u,l.horizontal==="middle"?t.middle:l.horizontal===a.horizontal?t.right:t.left);e.maxWidth=Math.min(o,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?t.middle:l.horizontal===a.horizontal?t.left:t.right),e.maxWidth=Math.min(o,u-e.left)}const Ki=ge({name:"QMenu",inheritAttrs:!1,props:{...ji,..._n,...De,...qt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Lt},self:{type:String,validator:Lt},offset:{type:Array,validator:ta},scrollTarget:Ml,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Cn,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){let a=null,i,o,r;const s=de(),{proxy:u}=s,{$q:d}=u,h=F(null),g=F(!1),v=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),k=He(e,d),{registerTick:S,removeTick:_}=zl(),{registerTimeout:U}=Hl(),{transitionProps:j,transitionStyle:z}=Ll(e),{localScrollTarget:w,changeScrollEvent:I,unconfigureScrollTarget:V}=Yl(e,R),{anchorEl:q,canShow:P}=Xl({showing:g}),{hide:y}=Tn({showing:g,canShow:P,handleShow:G,handleHide:m,hideOnRouteChange:v,processOnMount:!0}),{showPortal:p,hidePortal:E,renderPortal:x}=Pl(s,h,re,"menu"),L={anchorEl:q,innerRef:h,onClickOutside($){if(e.persistent!==!0&&g.value===!0)return y($),($.type==="touchstart"||$.target.classList.contains("q-dialog__backdrop"))&&Se($),!0}},O=b(()=>Pt(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),X=b(()=>e.cover===!0?O.value:Pt(e.self||"top start",d.lang.rtl)),D=b(()=>(e.square===!0?" q-menu--square":"")+(k.value===!0?" q-menu--dark q-dark":"")),A=b(()=>e.autoClose===!0?{onClick:J}:{}),T=b(()=>g.value===!0&&e.persistent!==!0);ee(T,$=>{$===!0?(si(H),ea(L)):(ol(H),zt(L))});function N(){qn(()=>{let $=h.value;$&&$.contains(document.activeElement)!==!0&&($=$.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||$.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||$.querySelector("[autofocus], [data-autofocus]")||$,$.focus({preventScroll:!0}))})}function G($){if(a=e.noRefocus===!1?document.activeElement:null,ui(Z),p(),R(),i=void 0,$!==void 0&&(e.touchPosition||e.contextMenu)){const fe=Ga($);if(fe.left!==void 0){const{top:Re,left:Xe}=q.value.getBoundingClientRect();i={left:fe.left-Xe,top:fe.top-Re}}}o===void 0&&(o=ee(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,Q)),e.noFocus!==!0&&document.activeElement.blur(),S(()=>{Q(),e.noFocus!==!0&&N()}),U(()=>{d.platform.is.ios===!0&&(r=e.autoClose,h.value.click()),Q(),p(!0),n("show",$)},e.transitionDuration)}function m($){_(),E(),f(!0),a!==null&&($===void 0||$.qClickOutside!==!0)&&((($?.type.indexOf("key")===0?a.closest('[tabindex]:not([tabindex^="-"])'):void 0)||a).focus(),a=null),U(()=>{E(!0),n("hide",$)},e.transitionDuration)}function f($){i=void 0,o!==void 0&&(o(),o=void 0),($===!0||g.value===!0)&&(ci(Z),V(),zt(L),ol(H)),$!==!0&&(a=null)}function R(){(q.value!==null||e.scrollTarget!==void 0)&&(w.value=Ol(q.value,e.scrollTarget),I(w.value,Q))}function J($){r!==!0?(di(u,$),n("click",$)):r=!1}function Z($){T.value===!0&&e.noFocus!==!0&&Ja(h.value,$.target)!==!0&&N()}function H($){e.noEscDismiss!==!0&&(n("escapeKey"),y($))}function Q(){En({targetEl:h.value,offset:e.offset,anchorEl:q.value,anchorOrigin:O.value,selfOrigin:X.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function re(){return C(jt,j.value,()=>g.value===!0?C("div",{role:"menu",...l,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+D.value,l.class],style:[l.style,z.value],...A.value},Ce(t.default)):null)}return we(f),Object.assign(u,{focus:N,updatePosition:Q}),x}});let Ot=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Ot=e.scrollLeft>=0,e.remove()}const qe=1e3,Wi=["start","center","end","start-force","center-force","end-force"],na=Array.prototype.filter,Zi=window.getComputedStyle(document.body).overflowAnchor===void 0?Xa:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];na.call(n,a=>a.dataset&&a.dataset.qVsAnchor!==void 0).forEach(a=>{delete a.dataset.qVsAnchor});const l=n[t];l?.dataset&&(l.dataset.qVsAnchor="")}))};function it(e,t){return e+t}function on(e,t,n,l,a,i,o,r){const s=e===window?document.scrollingElement||document.documentElement:e,u=a===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-o-r,scrollMaxSize:0,offsetStart:-o,offsetEnd:-r};if(a===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=s.scrollLeft,d.scrollViewSize+=s.clientWidth),d.scrollMaxSize=s.scrollWidth,i===!0&&(d.scrollStart=(Ot===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=s.scrollTop,d.scrollViewSize+=s.clientHeight),d.scrollMaxSize=s.scrollHeight),n!==null)for(let h=n.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=h[u]);if(l!==null)for(let h=l.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=h[u]);if(t!==e){const h=s.getBoundingClientRect(),g=t.getBoundingClientRect();a===!0?(d.offsetStart+=g.left-h.left,d.offsetEnd-=g.width):(d.offsetStart+=g.top-h.top,d.offsetEnd-=g.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function kl(e,t,n,l){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(l===!0&&(t=(Ot===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(l===!0&&(t=(Ot===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function ct(e,t,n,l){if(n>=l)return 0;const a=t.length,i=Math.floor(n/qe),o=Math.floor((l-1)/qe)+1;let r=e.slice(i,o).reduce(it,0);return n%qe!==0&&(r-=t.slice(i*qe,n).reduce(it,0)),l%qe!==0&&l!==a&&(r-=t.slice(l,o*qe).reduce(it,0)),r}const Gi={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},yl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Gi};function Ji({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:l}){const a=de(),{props:i,emit:o,proxy:r}=a,{$q:s}=r;let u,d,h,g=[],v;const k=F(0),S=F(0),_=F({}),U=F(null),j=F(null),z=F(null),w=F({from:0,to:0}),I=b(()=>i.tableColspan!==void 0?i.tableColspan:100);l===void 0&&(l=b(()=>i.virtualScrollItemSize));const V=b(()=>l.value+";"+i.virtualScrollHorizontal),q=b(()=>V.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);ee(q,()=>{D()}),ee(V,P);function P(){X(d,!0)}function y(m){X(m===void 0?d:m)}function p(m,f){const R=t();if(R==null||R.nodeType===8)return;const J=on(R,n(),U.value,j.value,i.virtualScrollHorizontal,s.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);h!==J.scrollViewSize&&D(J.scrollViewSize),x(R,J,Math.min(e.value-1,Math.max(0,parseInt(m,10)||0)),0,Wi.indexOf(f)!==-1?f:d!==-1&&m>d?"end":"start")}function E(){const m=t();if(m==null||m.nodeType===8)return;const f=on(m,n(),U.value,j.value,i.virtualScrollHorizontal,s.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),R=e.value-1,J=f.scrollMaxSize-f.offsetStart-f.offsetEnd-S.value;if(u===f.scrollStart)return;if(f.scrollMaxSize<=0){x(m,f,0,0);return}h!==f.scrollViewSize&&D(f.scrollViewSize),L(w.value.from);const Z=Math.floor(f.scrollMaxSize-Math.max(f.scrollViewSize,f.offsetEnd)-Math.min(v[R],f.scrollViewSize/2));if(Z>0&&Math.ceil(f.scrollStart)>=Z){x(m,f,R,f.scrollMaxSize-f.offsetEnd-g.reduce(it,0));return}let H=0,Q=f.scrollStart-f.offsetStart,re=Q;if(Q<=J&&Q+f.scrollViewSize>=k.value)Q-=k.value,H=w.value.from,re=Q;else for(let $=0;Q>=g[$]&&H<R;$++)Q-=g[$],H+=qe;for(;Q>0&&H<R;)Q-=v[H],Q>-f.scrollViewSize?(H++,re=Q):re=v[H]+Q;x(m,f,H,re)}function x(m,f,R,J,Z){const H=typeof Z=="string"&&Z.indexOf("-force")!==-1,Q=H===!0?Z.replace("-force",""):Z,re=Q!==void 0?Q:"start";let $=Math.max(0,R-_.value[re]),fe=$+_.value.total;fe>e.value&&(fe=e.value,$=Math.max(0,fe-_.value.total)),u=f.scrollStart;const Re=$!==w.value.from||fe!==w.value.to;if(Re===!1&&Q===void 0){T(R);return}const{activeElement:Xe}=document,Be=z.value;Re===!0&&Be!==null&&Be!==Xe&&Be.contains(Xe)===!0&&(Be.addEventListener("focusout",O),setTimeout(()=>{Be?.removeEventListener("focusout",O)})),Zi(Be,R-$);const bt=Q!==void 0?v.slice($,R).reduce(it,0):0;if(Re===!0){const je=fe>=w.value.from&&$<=w.value.to?w.value.to:fe;w.value={from:$,to:je},k.value=ct(g,v,0,$),S.value=ct(g,v,fe,e.value),requestAnimationFrame(()=>{w.value.to!==fe&&u===f.scrollStart&&(w.value={from:w.value.from,to:fe},S.value=ct(g,v,fe,e.value))})}requestAnimationFrame(()=>{if(u!==f.scrollStart)return;Re===!0&&L($);const je=v.slice($,R).reduce(it,0),Ne=je+f.offsetStart+k.value,kt=Ne+v[R];let ot=Ne+J;if(Q!==void 0){const Wt=je-bt,rt=f.scrollStart+Wt;ot=H!==!0&&rt<Ne&&kt<rt+f.scrollViewSize?rt:Q==="end"?kt-f.scrollViewSize:Ne-(Q==="start"?0:Math.round((f.scrollViewSize-v[R])/2))}u=ot,kl(m,ot,i.virtualScrollHorizontal,s.lang.rtl),T(R)})}function L(m){const f=z.value;if(f){const R=na.call(f.children,$=>$.classList&&$.classList.contains("q-virtual-scroll--skip")===!1),J=R.length,Z=i.virtualScrollHorizontal===!0?$=>$.getBoundingClientRect().width:$=>$.offsetHeight;let H=m,Q,re;for(let $=0;$<J;){for(Q=Z(R[$]),$++;$<J&&R[$].classList.contains("q-virtual-scroll--with-prev")===!0;)Q+=Z(R[$]),$++;re=Q-v[H],re!==0&&(v[H]+=re,g[Math.floor(H/qe)]+=re),H++}}}function O(){z.value?.focus()}function X(m,f){const R=1*l.value;(f===!0||Array.isArray(v)===!1)&&(v=[]);const J=v.length;v.length=e.value;for(let H=e.value-1;H>=J;H--)v[H]=R;const Z=Math.floor((e.value-1)/qe);g=[];for(let H=0;H<=Z;H++){let Q=0;const re=Math.min((H+1)*qe,e.value);for(let $=H*qe;$<re;$++)Q+=v[$];g.push(Q)}d=-1,u=void 0,k.value=ct(g,v,0,w.value.from),S.value=ct(g,v,w.value.to,e.value),m>=0?(L(w.value.from),me(()=>{p(m)})):N()}function D(m){if(m===void 0&&typeof window<"u"){const Q=t();Q!=null&&Q.nodeType!==8&&(m=on(Q,n(),U.value,j.value,i.virtualScrollHorizontal,s.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}h=m;const f=parseFloat(i.virtualScrollSliceRatioBefore)||0,R=parseFloat(i.virtualScrollSliceRatioAfter)||0,J=1+f+R,Z=m===void 0||m<=0?1:Math.ceil(m/l.value),H=Math.max(1,Z,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/J));_.value={total:Math.ceil(H*J),start:Math.ceil(H*f),center:Math.ceil(H*(.5+f)),end:Math.ceil(H*(1+f)),view:Z}}function A(m,f){const R=i.virtualScrollHorizontal===!0?"width":"height",J={["--q-virtual-scroll-item-"+R]:l.value+"px"};return[m==="tbody"?C(m,{class:"q-virtual-scroll__padding",key:"before",ref:U},[C("tr",[C("td",{style:{[R]:`${k.value}px`,...J},colspan:I.value})])]):C(m,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[R]:`${k.value}px`,...J}}),C(m,{class:"q-virtual-scroll__content",key:"content",ref:z,tabindex:-1},f.flat()),m==="tbody"?C(m,{class:"q-virtual-scroll__padding",key:"after",ref:j},[C("tr",[C("td",{style:{[R]:`${S.value}px`,...J},colspan:I.value})])]):C(m,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[R]:`${S.value}px`,...J}})]}function T(m){d!==m&&(i.onVirtualScroll!==void 0&&o("virtualScroll",{index:m,from:w.value.from,to:w.value.to-1,direction:m<d?"decrease":"increase",ref:r}),d=m)}D();const N=Al(E,s.platform.is.ios===!0?120:35);Ya(()=>{D()});let G=!1;return $l(()=>{G=!0}),El(()=>{if(G!==!0)return;const m=t();u!==void 0&&m!==void 0&&m!==null&&m.nodeType!==8?kl(m,u,i.virtualScrollHorizontal,s.lang.rtl):p(d)}),we(()=>{N.cancel()}),Object.assign(r,{scrollTo:p,reset:P,refresh:y}),{virtualScrollSliceRange:w,virtualScrollSliceSizeComputed:_,setVirtualScrollSize:D,onVirtualScrollEvt:N,localResetVirtualScroll:X,padVirtualScroll:A,scrollTo:p,reset:P,refresh:y}}function xl(e,t,n){if(n<=t)return t;const l=n-t+1;let a=t+(e-t)%l;return a<t&&(a=l+a),a===0?0:a}const wl=e=>["add","add-unique","toggle"].includes(e),Xi=".*+?^${}()|[]\\",Yi=Object.keys(Ut);function rn(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return l=>l!==null&&typeof l=="object"&&n in l?l[n]:l}const mn=ge({name:"QSelect",inheritAttrs:!1,props:{...yl,...Wl,...Ut,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:wl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:yl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...An,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:l}=de(),{$q:a}=l,i=F(!1),o=F(!1),r=F(-1),s=F(""),u=F(!1),d=F(!1);let h=null,g=null,v,k,S,_=null,U,j,z,w;const I=F(null),V=F(null),q=F(null),P=F(null),y=F(null),p=Zl(e),E=Gl(Jn),x=b(()=>Array.isArray(e.options)?e.options.length:0),L=b(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:O,virtualScrollSliceSizeComputed:X,localResetVirtualScroll:D,padVirtualScroll:A,onVirtualScrollEvt:T,scrollTo:N,setVirtualScrollSize:G}=Ji({virtualScrollLength:x,getVirtualScrollTarget:ka,getVirtualScrollEl:Zn,virtualScrollItemSizeComputed:L}),m=Vn(),f=b(()=>{const c=e.mapOptions===!0&&e.multiple!==!0,B=e.modelValue!==void 0&&(e.modelValue!==null||c===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const M=e.mapOptions===!0&&v!==void 0?v:[],Y=B.map(oe=>ba(oe,M));return e.modelValue===null&&c===!0?Y.filter(oe=>oe!==null):Y}return B}),R=b(()=>{const c={};return Yi.forEach(B=>{const M=e[B];M!==void 0&&(c[B]=M)}),c}),J=b(()=>e.optionsDark===null?m.isDark.value:e.optionsDark),Z=b(()=>vt(f.value)),H=b(()=>{let c="q-field__input q-placeholder col";return e.hideSelected===!0||f.value.length===0?[c,e.inputClass]:(c+=" q-field__input--padding",e.inputClass===void 0?c:[c,e.inputClass])}),Q=b(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),re=b(()=>x.value===0),$=b(()=>f.value.map(c=>ye.value(c)).join(", ")),fe=b(()=>e.displayValue!==void 0?e.displayValue:$.value),Re=b(()=>e.optionsHtml===!0?()=>!0:c=>c?.html===!0),Xe=b(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||f.value.some(Re.value))),Be=b(()=>m.focused.value===!0?e.tabindex:-1),bt=b(()=>{const c={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${m.targetUid.value}_lb`};return r.value>=0&&(c["aria-activedescendant"]=`${m.targetUid.value}_${r.value}`),c}),je=b(()=>({id:`${m.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ne=b(()=>f.value.map((c,B)=>({index:B,opt:c,html:Re.value(c),selected:!0,removeAtIndex:pa,toggleOption:Ue,tabindex:Be.value}))),kt=b(()=>{if(x.value===0)return[];const{from:c,to:B}=O.value;return e.options.slice(c,B).map((M,Y)=>{const oe=Ye.value(M)===!0,ie=Gt(M)===!0,he=c+Y,se={clickable:!0,active:ie,activeClass:rt.value,manualFocus:!0,focused:!1,disable:oe,tabindex:-1,dense:e.optionsDense,dark:J.value,role:"option","aria-selected":ie===!0?"true":"false",id:`${m.targetUid.value}_${he}`,onClick:()=>{Ue(M)}};return oe!==!0&&(r.value===he&&(se.focused=!0),a.platform.is.desktop===!0&&(se.onMousemove=()=>{i.value===!0&&et(he)})),{index:he,opt:M,html:Re.value(M),label:ye.value(M),selected:se.active,focused:se.focused,toggleOption:Ue,setOptionIndex:et,itemProps:se}})}),ot=b(()=>e.dropdownIcon!==void 0?e.dropdownIcon:a.iconSet.arrow.dropdown),Wt=b(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),rt=b(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ae=b(()=>rn(e.optionValue,"value")),ye=b(()=>rn(e.optionLabel,"label")),Ye=b(()=>rn(e.optionDisable,"disable")),yt=b(()=>f.value.map(Ae.value)),ga=b(()=>{const c={onInput:Jn,onChange:E,onKeydown:Wn,onKeyup:Qn,onKeypress:Kn,onFocus:Nn,onClick(B){k===!0&&Pe(B)}};return c.onCompositionstart=c.onCompositionupdate=c.onCompositionend=E,c});ee(f,c=>{v=c,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&m.innerLoading.value!==!0&&(o.value!==!0&&i.value!==!0||Z.value!==!0)&&(S!==!0&&at(),(o.value===!0||i.value===!0)&&tt(""))},{immediate:!0}),ee(()=>e.fillInput,at),ee(i,Jt),ee(x,$a);function Hn(c){return e.emitValue===!0?Ae.value(c):c}function Zt(c){if(c!==-1&&c<f.value.length)if(e.multiple===!0){const B=e.modelValue.slice();n("remove",{index:c,value:B.splice(c,1)[0]}),n("update:modelValue",B)}else n("update:modelValue",null)}function pa(c){Zt(c),m.focus()}function jn(c,B){const M=Hn(c);if(e.multiple!==!0){e.fillInput===!0&&st(ye.value(c),!0,!0),n("update:modelValue",M);return}if(f.value.length===0){n("add",{index:0,value:M}),n("update:modelValue",e.multiple===!0?[M]:M);return}if(B===!0&&Gt(c)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const Y=e.modelValue.slice();n("add",{index:Y.length,value:M}),Y.push(M),n("update:modelValue",Y)}function Ue(c,B){if(m.editable.value!==!0||c===void 0||Ye.value(c)===!0)return;const M=Ae.value(c);if(e.multiple!==!0){B!==!0&&(st(e.fillInput===!0?ye.value(c):"",!0,!0),Qe()),V.value?.focus(),(f.value.length===0||ut(Ae.value(f.value[0]),M)!==!0)&&n("update:modelValue",e.emitValue===!0?M:c);return}if((k!==!0||u.value===!0)&&m.focus(),Nn(),f.value.length===0){const ie=e.emitValue===!0?M:c;n("add",{index:0,value:ie}),n("update:modelValue",e.multiple===!0?[ie]:ie);return}const Y=e.modelValue.slice(),oe=yt.value.findIndex(ie=>ut(ie,M));if(oe!==-1)n("remove",{index:oe,value:Y.splice(oe,1)[0]});else{if(e.maxValues!==void 0&&Y.length>=e.maxValues)return;const ie=e.emitValue===!0?M:c;n("add",{index:Y.length,value:ie}),Y.push(ie)}n("update:modelValue",Y)}function et(c){if(a.platform.is.desktop!==!0)return;const B=c!==-1&&c<x.value?c:-1;r.value!==B&&(r.value=B)}function xt(c=1,B){if(i.value===!0){let M=r.value;do M=xl(M+c,-1,x.value-1);while(M!==-1&&M!==r.value&&Ye.value(e.options[M])===!0);r.value!==M&&(et(M),N(M),B!==!0&&e.useInput===!0&&e.fillInput===!0&&wt(M>=0?ye.value(e.options[M]):U,!0))}}function ba(c,B){const M=Y=>ut(Ae.value(Y),c);return e.options.find(M)||B.find(M)||c}function Gt(c){const B=Ae.value(c);return yt.value.find(M=>ut(M,B))!==void 0}function Nn(c){e.useInput===!0&&V.value!==null&&(c===void 0||V.value===c.target&&c.target.value===$.value)&&V.value.select()}function Un(c){yn(c,27)===!0&&i.value===!0&&(Pe(c),Qe(),at()),n("keyup",c)}function Qn(c){const{value:B}=c.target;if(c.keyCode!==void 0){Un(c);return}if(c.target.value="",h!==null&&(clearTimeout(h),h=null),g!==null&&(clearTimeout(g),g=null),at(),typeof B=="string"&&B.length!==0){const M=B.toLocaleLowerCase(),Y=ie=>{const he=e.options.find(se=>String(ie.value(se)).toLocaleLowerCase()===M);return he===void 0?!1:(f.value.indexOf(he)===-1?Ue(he):Qe(),!0)},oe=ie=>{Y(Ae)!==!0&&ie!==!0&&Y(ye)!==!0&&tt(B,!0,()=>oe(!0))};oe()}else m.clearValue(c)}function Kn(c){n("keypress",c)}function Wn(c){if(n("keydown",c),Il(c)===!0)return;const B=s.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),M=c.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(r.value!==-1||B===!0);if(c.keyCode===27){$e(c);return}if(c.keyCode===9&&M===!1){nt();return}if(c.target===void 0||c.target.id!==m.targetUid.value||m.editable.value!==!0)return;if(c.keyCode===40&&m.innerLoading.value!==!0&&i.value===!1){Se(c),lt();return}if(c.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&s.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Zt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(c.keyCode===35||c.keyCode===36)&&(typeof s.value!="string"||s.value.length===0)&&(Se(c),r.value=-1,xt(c.keyCode===36?1:-1,e.multiple)),(c.keyCode===33||c.keyCode===34)&&X.value!==void 0&&(Se(c),r.value=Math.max(-1,Math.min(x.value,r.value+(c.keyCode===33?-1:1)*X.value.view)),xt(c.keyCode===33?1:-1,e.multiple)),(c.keyCode===38||c.keyCode===40)&&(Se(c),xt(c.keyCode===38?-1:1,e.multiple));const Y=x.value;if((z===void 0||w<Date.now())&&(z=""),Y>0&&e.useInput!==!0&&c.key!==void 0&&c.key.length===1&&c.altKey===!1&&c.ctrlKey===!1&&c.metaKey===!1&&(c.keyCode!==32||z.length!==0)){i.value!==!0&&lt(c);const oe=c.key.toLocaleLowerCase(),ie=z.length===1&&z[0]===oe;w=Date.now()+1500,ie===!1&&(Se(c),z+=oe);const he=new RegExp("^"+z.split("").map(Xt=>Xi.indexOf(Xt)!==-1?"\\"+Xt:Xt).join(".*"),"i");let se=r.value;if(ie===!0||se<0||he.test(ye.value(e.options[se]))!==!0)do se=xl(se+1,-1,Y-1);while(se!==r.value&&(Ye.value(e.options[se])===!0||he.test(ye.value(e.options[se]))!==!0));r.value!==se&&me(()=>{et(se),N(se),se>=0&&e.useInput===!0&&e.fillInput===!0&&wt(ye.value(e.options[se]),!0)});return}if(!(c.keyCode!==13&&(c.keyCode!==32||e.useInput===!0||z!=="")&&(c.keyCode!==9||M===!1))){if(c.keyCode!==9&&Se(c),r.value!==-1&&r.value<Y){Ue(e.options[r.value]);return}if(B===!0){const oe=(ie,he)=>{if(he){if(wl(he)!==!0)return}else he=e.newValueMode;if(st("",e.multiple!==!0,!0),ie==null)return;(he==="toggle"?Ue:jn)(ie,he==="add-unique"),e.multiple!==!0&&(V.value?.focus(),Qe())};if(e.onNewValue!==void 0?n("newValue",s.value,oe):oe(s.value),e.multiple!==!0)return}i.value===!0?nt():m.innerLoading.value!==!0&&lt()}}function Zn(){return k===!0?y.value:q.value!==null&&q.value.contentEl!==null?q.value.contentEl:void 0}function ka(){return Zn()}function ya(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Ne.value.map(c=>t["selected-item"](c)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Ne.value.map((c,B)=>C(Hi,{key:"option-"+B,removable:m.editable.value===!0&&Ye.value(c.opt)!==!0,dense:!0,textColor:e.color,tabindex:Be.value,onRemove(){c.removeAtIndex(B)}},()=>C("span",{class:"ellipsis",[c.html===!0?"innerHTML":"textContent"]:ye.value(c.opt)}))):[C("span",{class:"ellipsis",[Xe.value===!0?"innerHTML":"textContent"]:fe.value})]}function Gn(){if(re.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:s.value}):void 0;const c=t.option!==void 0?t.option:M=>C(Nl,{key:M.index,...M.itemProps},()=>C(Rt,()=>C(fn,()=>C("span",{[M.html===!0?"innerHTML":"textContent"]:M.label}))));let B=A("div",kt.value.map(c));return t["before-options"]!==void 0&&(B=t["before-options"]().concat(B)),ti(t["after-options"],B)}function xa(c,B){const M=B===!0?{...bt.value,...m.splitAttrs.attributes.value}:void 0,Y={ref:B===!0?V:void 0,key:"i_t",class:H.value,style:e.inputStyle,value:s.value!==void 0?s.value:"",type:"search",...M,id:B===!0?m.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":c===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ga.value};return c!==!0&&k===!0&&(Array.isArray(Y.class)===!0?Y.class=[...Y.class,"no-pointer-events"]:Y.class+=" no-pointer-events"),C("input",Y)}function Jn(c){h!==null&&(clearTimeout(h),h=null),g!==null&&(clearTimeout(g),g=null),!(c&&c.target&&c.target.qComposing===!0)&&(wt(c.target.value||""),S=!0,U=s.value,m.focused.value!==!0&&(k!==!0||u.value===!0)&&m.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,tt(s.value)},e.inputDebounce)))}function wt(c,B){s.value!==c&&(s.value=c,B===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",c):g=setTimeout(()=>{g=null,n("inputValue",c)},e.inputDebounce))}function st(c,B,M){S=M!==!0,e.useInput===!0&&(wt(c,!0),(B===!0||M!==!0)&&(U=c),B!==!0&&tt(c))}function tt(c,B,M){if(e.onFilter===void 0||B!==!0&&m.focused.value!==!0)return;m.innerLoading.value===!0?n("filterAbort"):(m.innerLoading.value=!0,d.value=!0),c!==""&&e.multiple!==!0&&f.value.length!==0&&S!==!0&&c===ye.value(f.value[0])&&(c="");const Y=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);_!==null&&clearTimeout(_),_=Y,n("filter",c,(oe,ie)=>{(B===!0||m.focused.value===!0)&&_===Y&&(clearTimeout(_),typeof oe=="function"&&oe(),d.value=!1,me(()=>{m.innerLoading.value=!1,m.editable.value===!0&&(B===!0?i.value===!0&&Qe():i.value===!0?Jt(!0):i.value=!0),typeof ie=="function"&&me(()=>{ie(l)}),typeof M=="function"&&me(()=>{M(l)})}))},()=>{m.focused.value===!0&&_===Y&&(clearTimeout(_),m.innerLoading.value=!1,d.value=!1),i.value===!0&&(i.value=!1)})}function wa(){return C(Ki,{ref:q,class:Q.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&re.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:J.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Wt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...je.value,onScrollPassive:T,onBeforeShow:Yn,onBeforeHide:Sa,onShow:Ca},Gn)}function Sa(c){el(c),nt()}function Ca(){G()}function _a(c){Pe(c),V.value?.focus(),u.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ta(c){Pe(c),me(()=>{u.value=!1})}function qa(){const c=[C(Fi,{class:`col-auto ${m.fieldClass.value}`,...R.value,for:m.targetUid.value,dark:J.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:s.value.length!==0,...m.splitAttrs.listeners.value,onFocus:_a,onBlur:Ta},{...t,rawControl:()=>m.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&c.push(C("div",{ref:y,class:Q.value+" scroll",style:e.popupContentStyle,...je.value,onClick:$e,onScrollPassive:T},Gn())),C(Fl,{ref:P,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Yn,onBeforeHide:Ra,onHide:Aa,onShow:Va},()=>C("div",{class:"q-select__dialog"+(J.value===!0?" q-select__dialog--dark q-dark":"")+(u.value===!0?" q-select__dialog--focused":"")},c))}function Ra(c){el(c),P.value!==null&&P.value.__updateRefocusTarget(m.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),m.focused.value=!1}function Aa(c){Qe(),m.focused.value===!1&&n("blur",c),at()}function Va(){const c=document.activeElement;(c===null||c.id!==m.targetUid.value)&&V.value!==null&&V.value!==c&&V.value.focus(),G()}function nt(){o.value!==!0&&(r.value=-1,i.value===!0&&(i.value=!1),m.focused.value===!1&&(_!==null&&(clearTimeout(_),_=null),m.innerLoading.value===!0&&(n("filterAbort"),m.innerLoading.value=!1,d.value=!1)))}function lt(c){m.editable.value===!0&&(k===!0?(m.onControlFocusin(c),o.value=!0,me(()=>{m.focus()})):m.focus(),e.onFilter!==void 0?tt(s.value):(re.value!==!0||t["no-option"]!==void 0)&&(i.value=!0))}function Qe(){o.value=!1,nt()}function at(){e.useInput===!0&&st(e.multiple!==!0&&e.fillInput===!0&&f.value.length!==0&&ye.value(f.value[0])||"",!0,!0)}function Jt(c){let B=-1;if(c===!0){if(f.value.length!==0){const M=Ae.value(f.value[0]);B=e.options.findIndex(Y=>ut(Ae.value(Y),M))}D(B)}et(B)}function $a(c,B){i.value===!0&&m.innerLoading.value===!1&&(D(-1,!0),me(()=>{i.value===!0&&m.innerLoading.value===!1&&(c>B?D():Jt(!0))}))}function Xn(){o.value===!1&&q.value!==null&&q.value.updatePosition()}function Yn(c){c!==void 0&&Pe(c),n("popupShow",c),m.hasPopupOpen=!0,m.onControlFocusin(c)}function el(c){c!==void 0&&Pe(c),n("popupHide",c),m.hasPopupOpen=!1,m.onControlFocusout(c)}function tl(){k=a.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||re.value===!1:!0),j=a.platform.is.ios===!0&&k===!0&&e.useInput===!0?"fade":e.transitionShow}return Rl(tl),ei(Xn),tl(),we(()=>{h!==null&&clearTimeout(h),g!==null&&clearTimeout(g)}),Object.assign(l,{showPopup:lt,hidePopup:Qe,removeAtIndex:Zt,add:jn,toggleOption:Ue,getOptionIndex:()=>r.value,setOptionIndex:et,moveOptionSelection:xt,filter:tt,updateMenuPosition:Xn,updateInputValue:st,isOptionSelected:Gt,getEmittingOptionValue:Hn,isOptionDisabled:(...c)=>Ye.value.apply(null,c)===!0,getOptionValue:(...c)=>Ae.value.apply(null,c),getOptionLabel:(...c)=>ye.value.apply(null,c)}),Object.assign(m,{innerValue:f,fieldClass:b(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:I,targetRef:V,hasValue:Z,showPopup:lt,floatingLabel:b(()=>e.hideSelected!==!0&&Z.value===!0||typeof s.value=="number"||s.value.length!==0||vt(e.displayValue)),getControlChild:()=>{if(m.editable.value!==!1&&(o.value===!0||re.value!==!0||t["no-option"]!==void 0))return k===!0?qa():wa();m.hasPopupOpen===!0&&(m.hasPopupOpen=!1)},controlEvents:{onFocusin(c){m.onControlFocusin(c)},onFocusout(c){m.onControlFocusout(c,()=>{at(),nt()})},onClick(c){if($e(c),k!==!0&&i.value===!0){nt(),V.value?.focus();return}lt(c)}},getControl:c=>{const B=ya(),M=c===!0||o.value!==!0||k!==!0;if(e.useInput===!0)B.push(xa(c,M));else if(m.editable.value===!0){const oe=M===!0?bt.value:void 0;B.push(C("input",{ref:M===!0?V:void 0,key:"d_t",class:"q-select__focus-target",id:M===!0?m.targetUid.value:void 0,value:fe.value,readonly:!0,"data-autofocus":c===!0||e.autofocus===!0||void 0,...oe,onKeydown:Wn,onKeyup:Un,onKeypress:Kn})),M===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&B.push(C("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Qn}))}if(p.value!==void 0&&e.disable!==!0&&yt.value.length!==0){const oe=yt.value.map(ie=>C("option",{value:ie,selected:!0}));B.push(C("select",{class:"hidden",name:p.value,multiple:e.multiple},oe))}const Y=e.useInput===!0||M!==!0?void 0:m.splitAttrs.attributes.value;return C("div",{class:"q-field__native row items-center",...Y,...m.splitAttrs.listeners.value},B)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[C(Ee,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:ot.value})]:null}),$n(m)}}),Le=ge({name:"QTooltip",inheritAttrs:!1,props:{...Jl,..._n,...qt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...qt.transitionShow,default:"jump-down"},transitionHide:{...qt.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Lt},self:{type:String,default:"top middle",validator:Lt},offset:{type:Array,default:()=>[14,14],validator:ta},scrollTarget:Ml,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Cn],setup(e,{slots:t,emit:n,attrs:l}){let a,i;const o=de(),{proxy:{$q:r}}=o,s=F(null),u=F(!1),d=b(()=>Pt(e.anchor,r.lang.rtl)),h=b(()=>Pt(e.self,r.lang.rtl)),g=b(()=>e.persistent!==!0),{registerTick:v,removeTick:k}=zl(),{registerTimeout:S}=Hl(),{transitionProps:_,transitionStyle:U}=Ll(e),{localScrollTarget:j,changeScrollEvent:z,unconfigureScrollTarget:w}=Yl(e,G),{anchorEl:I,canShow:V,anchorEvents:q}=Xl({showing:u,configureAnchorEl:N}),{show:P,hide:y}=Tn({showing:u,canShow:V,handleShow:L,handleHide:O,hideOnRouteChange:g,processOnMount:!0});Object.assign(q,{delayShow:A,delayHide:T});const{showPortal:p,hidePortal:E,renderPortal:x}=Pl(o,s,f,"tooltip");if(r.platform.is.mobile===!0){const R={anchorEl:I,innerRef:s,onClickOutside(Z){return y(Z),Z.target.classList.contains("q-dialog__backdrop")&&Se(Z),!0}},J=b(()=>e.modelValue===null&&e.persistent!==!0&&u.value===!0);ee(J,Z=>{(Z===!0?ea:zt)(R)}),we(()=>{zt(R)})}function L(R){p(),v(()=>{i=new MutationObserver(()=>D()),i.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),D(),G()}),a===void 0&&(a=ee(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,D)),S(()=>{p(!0),n("show",R)},e.transitionDuration)}function O(R){k(),E(),X(),S(()=>{E(!0),n("hide",R)},e.transitionDuration)}function X(){i!==void 0&&(i.disconnect(),i=void 0),a!==void 0&&(a(),a=void 0),w(),un(q,"tooltipTemp")}function D(){En({targetEl:s.value,offset:e.offset,anchorEl:I.value,anchorOrigin:d.value,selfOrigin:h.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function A(R){if(r.platform.is.mobile===!0){hn(),document.body.classList.add("non-selectable");const J=I.value,Z=["touchmove","touchcancel","touchend","click"].map(H=>[J,H,"delayHide","passiveCapture"]);$t(q,"tooltipTemp",Z)}S(()=>{P(R)},e.delay)}function T(R){r.platform.is.mobile===!0&&(un(q,"tooltipTemp"),hn(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),S(()=>{y(R)},e.hideDelay)}function N(){if(e.noParentEvent===!0||I.value===null)return;const R=r.platform.is.mobile===!0?[[I.value,"touchstart","delayShow","passive"]]:[[I.value,"mouseenter","delayShow","passive"],[I.value,"mouseleave","delayHide","passive"]];$t(q,"anchor",R)}function G(){if(I.value!==null||e.scrollTarget!==void 0){j.value=Ol(I.value,e.scrollTarget);const R=e.noParentEvent===!0?D:y;z(j.value,R)}}function m(){return u.value===!0?C("div",{...l,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,U.value],role:"tooltip"},Ce(t.default)):null}function f(){return C(jt,_.value,m)}return we(X),Object.assign(o.proxy,{updatePosition:D}),x}}),eo=["horizontal","vertical","cell","none"],la=ge({name:"QMarkupTable",props:{...De,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>eo.includes(e)}},setup(e,{slots:t}){const n=de(),l=He(e,n.proxy.$q),a=b(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(l.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>C("div",{class:a.value},[C("table",{class:"q-table"},Ce(t.default))])}}),At=Te({__name:"SelectImage",props:gt({isDisabled:{type:Boolean,default:!1},size:{type:String,default:"250px"},tooltip:{type:String,default:""}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ge(e,"modelValue"),n=i=>{const r=i.target.files?.[0];if(r){if(!r.type.startsWith("image/")){alert("Please select an image file.");return}const s=new FileReader;s.onload=u=>{t.value=u.target?.result},s.onerror=()=>{alert("Error reading the file.")},s.readAsDataURL(r)}},l=F(null),a=()=>{l.value&&l.value.click()};return(i,o)=>(ne(),be(Fe,null,[K(hi,{src:t.value||wn(Dl),"spinner-color":"white",style:al(`max-width: ${e.size}; max-height: ${e.size}`),class:ll(e.isDisabled?"":"cursor-pointer"),onClick:a},{default:te(()=>[e.tooltip?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px",style:al(`max-width: ${e.size}; max-height: ${e.size}`),class:ll(e.isDisabled?"":"cursor-pointer"),content:e.tooltip},{default:te(()=>[Ie(_e(e.tooltip),1)]),_:1},8,["style","class","content"])):xe("",!0)]),_:1},8,["src","style","class"]),W("input",{type:"file",ref_key:"fileInput",ref:l,accept:"image/*",style:{display:"none"},onChange:n},null,544)],64))}}),to={style:{width:"100px"}},no={style:{width:"100px"}},lo={style:{width:"200px"}},ao={style:{width:"300px"}},io={class:"text-center"},oo={key:0,class:"row items-center justify-evenly"},ro=Te({__name:"ParticipantsEditor",props:gt({fullEventData:{type:Object,required:!0},editable:{type:Boolean,default:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ge(e,"modelValue"),n=e,l=Rn(),a=b(()=>[{label:"Human",value:"human"},...l.allVoicesOptions]),i=b(()=>n.fullEventData.roles.map(o=>({label:o.name,value:o.name})));return(o,r)=>(ne(),be(Fe,null,[K(la,null,{default:te(()=>[r[1]||(r[1]=W("thead",null,[W("tr",null,[W("th",null,"Human/AI-Voice"),W("th",null,"Role"),W("th",null,"Name"),W("th",null,"Bio"),W("th",null,"Action")])],-1)),W("tbody",null,[(ne(!0),be(Fe,null,Sn(t.value,(s,u)=>(ne(),be("tr",{key:u},[W("td",to,[K(mn,{modelValue:s.type,"onUpdate:modelValue":d=>s.type=d,options:a.value,dense:"",outlined:"",rounded:"",disable:!e.editable,"emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options","disable"])]),W("td",no,[K(mn,{modelValue:s.role,"onUpdate:modelValue":d=>s.role=d,options:i.value,dense:"",outlined:"",rounded:"",disable:!e.editable,"emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options","disable"])]),W("td",lo,[K(Oe,{modelValue:s.name,"onUpdate:modelValue":d=>s.name=d,type:"text",dense:"",outlined:"",rounded:"",disable:!e.editable},{default:te(()=>[s.name?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px"},{default:te(()=>[Ie(_e(s.name),1)]),_:2},1024)):xe("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]),W("td",ao,[K(Oe,{modelValue:s.bio,"onUpdate:modelValue":d=>s.bio=d,type:"textarea",dense:"",outlined:"",rounded:"",disable:!e.editable},{default:te(()=>[s.bio?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px"},{default:te(()=>[Ie(_e(s.bio),1)]),_:2},1024)):xe("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]),W("td",io,[e.editable?(ne(),be("div",oo,[K(At,{modelValue:s.avatarIdle,"onUpdate:modelValue":d=>s.avatarIdle=d,"is-disabled":!e.editable,size:"50px",tooltip:"Avatar showing AI when idle"},null,8,["modelValue","onUpdate:modelValue","is-disabled"]),s.type!=="human"?(ne(),ce(At,{key:0,modelValue:s.avatarThinking,"onUpdate:modelValue":d=>s.avatarThinking=d,"is-disabled":!e.editable,size:"50px",tooltip:"Avatar showing AI when thinking"},null,8,["modelValue","onUpdate:modelValue","is-disabled"])):xe("",!0),s.type!=="human"?(ne(),ce(At,{key:1,modelValue:s.avatarTalking,"onUpdate:modelValue":d=>s.avatarTalking=d,"is-disabled":!e.editable,size:"50px",tooltip:"Avatar showing AI when talking"},null,8,["modelValue","onUpdate:modelValue","is-disabled"])):xe("",!0),K(ke,{icon:"delete",round:"",outline:"",color:"negative",onClick:()=>{t.value.splice(u,1)}},null,8,["onClick"])])):xe("",!0)])]))),128))])]),_:1,__:[1]}),K(ke,{icon:"add",label:"Add Participant",rounded:"",outlined:"","no-caps":"",color:"primary",class:"q-mt-md full-width",disable:!e.editable,onClick:r[0]||(r[0]=()=>{t.value.push({name:"",bio:"",type:"us-female",role:"",avatarIdle:"",avatarTalking:"",avatarListening:"",avatarThinking:""})})},null,8,["disable"])],64))}});function so(e,t="en"){const[n,l]=e.split("-"),a=new Intl.DisplayNames([t],{type:"language"}),i=new Intl.DisplayNames([t],{type:"region"}),o=a.of(n||"")||n||e,r=l?i.of(l):null;return r?`${o} (${r})`:o}function uo(e){return so(e,e)}const co={class:"text-center q-mb-md"},fo=Te({__name:"EventEditor",props:gt({editable:{type:Boolean,default:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ge(e,"modelValue"),n=Rn(),l=b(()=>n.listAllUniqueLanguages.map(a=>({label:uo(a),value:a})));return(a,i)=>(ne(),be(Fe,null,[W("div",co,[K(At,{modelValue:t.value.background,"onUpdate:modelValue":i[0]||(i[0]=o=>t.value.background=o),isDisabled:!e.editable},null,8,["modelValue","isDisabled"])]),K(mn,{modelValue:t.value.language,"onUpdate:modelValue":i[1]||(i[1]=o=>t.value.language=o),options:l.value,outlined:"",rounded:"",disable:!e.editable,label:"Event Language","emit-value":"","map-options":""},null,8,["modelValue","options","disable"]),K(Oe,{modelValue:t.value.name,"onUpdate:modelValue":i[2]||(i[2]=o=>t.value.name=o),type:"text",outlined:"",rounded:"",disable:!e.editable,label:"Event Name"},{default:te(()=>[t.value.name?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px"},{default:te(()=>[Ie(_e(t.value.name),1)]),_:1})):xe("",!0)]),_:1},8,["modelValue","disable"]),K(Oe,{modelValue:t.value.description,"onUpdate:modelValue":i[3]||(i[3]=o=>t.value.description=o),type:"textarea",outlined:"",rounded:"",disable:!e.editable,label:"Event Description"},{default:te(()=>[t.value.description?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px"},{default:te(()=>[Ie(_e(t.value.description),1)]),_:1})):xe("",!0)]),_:1},8,["modelValue","disable"]),K(Oe,{modelValue:t.value.dynamics,"onUpdate:modelValue":i[4]||(i[4]=o=>t.value.dynamics=o),type:"textarea",outlined:"",rounded:"",disable:!e.editable,label:"Event Dynamics"},{default:te(()=>[t.value.dynamics?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px"},{default:te(()=>[Ie(_e(t.value.dynamics),1)]),_:1})):xe("",!0)]),_:1},8,["modelValue","disable"])],64))}}),ho={class:"text-center"},vo=Te({__name:"RolesEditor",props:gt({editable:{type:Boolean,default:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ge(e,"modelValue");return(n,l)=>t.value?(ne(),be(Fe,{key:0},[K(la,{bordered:""},{default:te(()=>[l[1]||(l[1]=W("thead",null,[W("tr",null,[W("th",null,"Role Name"),W("th",null,"Role Description"),W("th",null,"Actions")])],-1)),W("tbody",null,[(ne(!0),be(Fe,null,Sn(t.value,(a,i)=>(ne(),be("tr",{key:i},[W("td",null,[K(Oe,{modelValue:a.name,"onUpdate:modelValue":o=>a.name=o,type:"text",outlined:"",rounded:"",label:"Role Name",disable:!e.editable},{default:te(()=>[a.name?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px"},{default:te(()=>[Ie(_e(a.name),1)]),_:2},1024)):xe("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]),W("td",null,[K(Oe,{modelValue:a.description,"onUpdate:modelValue":o=>a.description=o,type:"textarea",outlined:"",rounded:"",label:"Role Description",disable:!e.editable},{default:te(()=>[a.description?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px"},{default:te(()=>[Ie(_e(a.description),1)]),_:2},1024)):xe("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]),W("td",ho,[K(ke,{class:"q-mb-md",color:"negative",icon:"delete",round:"",outline:"",disable:!e.editable,onClick:o=>t.value.splice(i,1)},null,8,["disable","onClick"])])]))),128))])]),_:1,__:[1]}),K(ke,{class:"q-mt-md full-width",disable:!e.editable,"no-caps":"",icon:"add",rounded:"",color:"green","text-color":"white",unelevated:"",label:"Add Role",onClick:l[0]||(l[0]=a=>t.value.push({name:"",description:""}))},null,8,["disable"])],64)):xe("",!0)}}),mo='<g transform="matrix(1 0 0 -1 0 80)"><rect width="10" height="20" rx="3"><animate attributeName="height" begin="0s" dur="4.3s" values="20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="15" width="10" height="80" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="80;55;33;5;75;23;73;33;12;14;60;80" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="30" width="10" height="50" rx="3"><animate attributeName="height" begin="0s" dur="1.4s" values="50;34;78;23;56;23;34;76;80;54;21;50" calcMode="linear" repeatCount="indefinite"></animate></rect><rect x="45" width="10" height="30" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="30;45;13;80;56;72;45;76;34;23;67;30" calcMode="linear" repeatCount="indefinite"></animate></rect></g>',go=ge({name:"QSpinnerAudio",props:ni,setup(e){const{cSize:t,classes:n}=li(e);return()=>C("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg",innerHTML:mo})}});function aa(){return xn(ai)}const po={class:"row wrap justify-evenly"},bo={class:"column items-center"},ko=["src"],yo={class:"text-h6 q-mt-sm"},xo={class:"text-subtitle2 q-mt-xs"},wo=Te({__name:"SendInputsToServer",props:gt({fullEventData:{type:Object,required:!0},editable:{type:Boolean,default:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ge(e,"modelValue"),n=aa(),l=Nt(),a=F(!1),i=F(-1),o=F(-1),r=F(null),s=F(null),u=F([]),d=()=>{s.value&&(o.value=i.value,s.value.stop(),r.value=null,u.value=[],s.value=null,a.value=!1)};async function h(w){if(w<0||w>=t.value.length){d(),v(w),i.value=-1;return}if(i.value===w){d(),v(w),i.value=-1;return}if(i.value!==w&&(d(),v(i.value),i.value=w),z(w).type==="human"){if(a.value)s.value&&(s.value.stop(),a.value=!1);else{i.value=w,r.value=null,u.value=[],s.value=null,a.value=!1;try{console.log(_.value);const V=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});s.value=new MediaRecorder(V,{mimeType:_.value}),u.value=[],s.value.ondataavailable=q=>{q.data.size>0&&u.value.push(q.data)},s.value.onstop=async()=>{try{const q=new Blob(u.value,{type:_.value}),P=await U(q);r.value=URL.createObjectURL(P),k({participantIdx:o.value,wavBlob:P,audioBlob:q,audioUrl:r.value}),V.getTracks().forEach(y=>y.stop())}catch(q){console.log(q)}},s.value.start(),a.value=!0,n.notify({type:"positive",message:`Recording started for participant: ${S(w)}`})}catch(V){n.notify({type:"negative",message:"Failed to access microphone. Please check permissions."}),console.error("Error starting recording:",V)}}return}g(w)}const g=w=>{if(w>=0&&w<t.value.length){if(z(w).type==="human")return;console.log("requst AI to talk from server"),l.emit("admin-activities-start-ai-voice",{type:"GSK_REQUEST_AI_TO_START_TALKING",payload:{speakerIdx:w}})}},v=w=>{if(w>=0&&w<t.value.length){if(z(w).type==="human")return;console.log("requst AI to stop talking from server"),l.emit("admin-activities-stop-ai-voice",{type:"GSK_REQUEST_AI_TO_STOP_TALKING",payload:{speakerIdx:w}})}},k=w=>{const I={type:"GSK_VOICE_INPUT_TO_SERVER",payload:{voiceBlob:w.wavBlob,speakerIdx:w.participantIdx}};l.emit("admin-activities-voice-input-to-server",I),console.log("send to server with the following details ",w),n.notify({type:"positive",message:`Audio sent to server for participant: ${S(w.participantIdx)}`})},S=w=>z(w).name,_=b(()=>{const w=["audio/wav","audio/mp3","audio/aiff","audio/aac","audio/ogg","audio/flac","audio/webm"];for(const I of w)if(MediaRecorder.isTypeSupported(I))return I;return"audio/webm"});async function U(w){const I=await w.arrayBuffer(),q=await new(window.AudioContext||window.webkitAudioContext)().decodeAudioData(I),P=j(q);return new Blob([P],{type:"audio/wav"})}function j(w){const I=w.numberOfChannels,V=w.length*I*2,q=new ArrayBuffer(44+V),P=new DataView(q),y=[];let p=0,E=0;x("RIFF"),P.setUint32(p,36+V,!0),p+=4,x("WAVE"),x("fmt "),P.setUint32(p,16,!0),p+=4,P.setUint16(p,1,!0),p+=2,P.setUint16(p,I,!0),p+=2,P.setUint32(p,w.sampleRate,!0),p+=4,P.setUint32(p,w.sampleRate*2*I,!0),p+=4,P.setUint16(p,I*2,!0),p+=2,P.setUint16(p,16,!0),p+=2,x("data"),P.setUint32(p,V,!0),p+=4;for(let L=0;L<w.numberOfChannels;L++)y.push(w.getChannelData(L));for(;p<q.byteLength;){for(let L=0;L<I;L++){let O=Math.max(-1,Math.min(1,y?.[L]?.[E]||0));O=O<0?O*32768:O*32767,P.setInt16(p,O,!0),p+=2}E++}function x(L){for(let O=0;O<L.length;O++)P.setUint8(p+O,L.charCodeAt(O));p+=L.length}return q}const z=w=>t.value?.[w]||{avatarIdle:"",avatarListening:"",avatarThinking:"",avatarTalking:"",name:"",bio:"",type:"us-female",role:""};return(w,I)=>(ne(),be("div",po,[(ne(!0),be(Fe,null,Sn(t.value,(V,q)=>(ne(),be("div",{key:q,class:"q-pa-md"},[W("div",bo,[K(ii,{size:"100px"},{default:te(()=>[W("img",{src:V.avatarIdle||wn(Dl)},null,8,ko)]),_:2},1024),W("div",yo,[Ie(_e(V.name||"Unnamed Participant")+" ",1),V.bio?(ne(),ce(Le,{key:0,anchor:"top middle",self:"bottom middle",delay:100,"transition-show":"jump-down","transition-hide":"jump-up","max-width":"300px"},{default:te(()=>[Ie(_e(V.bio),1)]),_:2},1024)):xe("",!0)]),W("div",xo,_e(V.role||"No Role Assigned")+" ("+_e(V.type==="human"?"Human":"AI")+") ",1),K(ke,{round:"",outline:"",color:"primary",onClick:P=>h(q)},{default:te(()=>[i.value===q?(ne(),ce(go,{key:0,size:"20px"})):(ne(),ce(Ee,{key:1,name:"mic_off",size:"20px"}))]),_:2},1032,["onClick"])])]))),128))]))}}),So=Te({__name:"ReceiveFullEventDataFromServer",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Ge(e,"modelValue"),n=jl(),l=()=>{if(n.fullEventData===null){alert("No event data available on the server.");return}const a=n?.fullEventData?.event?.name||"";confirm(`Are you sure you want to import the event data from the server? This will overwrite your current data. Event name on server: ${a}`)&&(t.value=n.fullEventData)};return(a,i)=>(ne(),ce(ke,{icon:"cloud_download",color:"negative",outline:"",rounded:"","no-caps":"",label:"Receive from Server",onClick:l}))}}),Co=Te({__name:"FullTranscriptDownload",setup(e){const t=Nt(),n=()=>{t.emit("admin-activities-request-human-readable-report")};return(l,a)=>(ne(),ce(ke,{icon:"download",color:"accent",outline:"",rounded:"","no-caps":"",label:"Download transcript",onClick:n}))}});function In(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Je=In();function ia(e){Je=e}var ht={exec:()=>null};function le(e,t=""){let n=typeof e=="string"?e:e.source;const l={replace:(a,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(pe.caret,"$1"),n=n.replace(a,o),l},getRegex:()=>new RegExp(n,t)};return l}var pe={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},_o=/^(?:[ \t]*(?:\n|$))+/,To=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,qo=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,pt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ro=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Bn=/(?:[*+-]|\d{1,9}[.)])/,oa=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ra=le(oa).replace(/bull/g,Bn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ao=le(oa).replace(/bull/g,Bn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Mn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Vo=/^[^\n]+/,zn=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$o=le(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",zn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Eo=le(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Bn).getRegex(),Qt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ln=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Io=le("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ln).replace("tag",Qt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),sa=le(Mn).replace("hr",pt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt).getRegex(),Bo=le(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",sa).getRegex(),Pn={blockquote:Bo,code:To,def:$o,fences:qo,heading:Ro,hr:pt,html:Io,lheading:ra,list:Eo,newline:_o,paragraph:sa,table:ht,text:Vo},Sl=le("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",pt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt).getRegex(),Mo={...Pn,lheading:Ao,table:Sl,paragraph:le(Mn).replace("hr",pt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Sl).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt).getRegex()},zo={...Pn,html:le(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ln).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ht,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:le(Mn).replace("hr",pt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ra).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Lo=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Po=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ua=/^( {2,}|\\)\n(?!\s*$)/,Oo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Kt=/[\p{P}\p{S}]/u,On=/[\s\p{P}\p{S}]/u,ca=/[^\s\p{P}\p{S}]/u,Fo=le(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,On).getRegex(),da=/(?!~)[\p{P}\p{S}]/u,Do=/(?!~)[\s\p{P}\p{S}]/u,Ho=/(?:[^\s\p{P}\p{S}]|~)/u,jo=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,fa=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,No=le(fa,"u").replace(/punct/g,Kt).getRegex(),Uo=le(fa,"u").replace(/punct/g,da).getRegex(),ha="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Qo=le(ha,"gu").replace(/notPunctSpace/g,ca).replace(/punctSpace/g,On).replace(/punct/g,Kt).getRegex(),Ko=le(ha,"gu").replace(/notPunctSpace/g,Ho).replace(/punctSpace/g,Do).replace(/punct/g,da).getRegex(),Wo=le("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ca).replace(/punctSpace/g,On).replace(/punct/g,Kt).getRegex(),Zo=le(/\\(punct)/,"gu").replace(/punct/g,Kt).getRegex(),Go=le(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Jo=le(Ln).replace("(?:-->|$)","-->").getRegex(),Xo=le("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Jo).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ft=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Yo=le(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ft).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),va=le(/^!?\[(label)\]\[(ref)\]/).replace("label",Ft).replace("ref",zn).getRegex(),ma=le(/^!?\[(ref)\](?:\[\])?/).replace("ref",zn).getRegex(),er=le("reflink|nolink(?!\\()","g").replace("reflink",va).replace("nolink",ma).getRegex(),Fn={_backpedal:ht,anyPunctuation:Zo,autolink:Go,blockSkip:jo,br:ua,code:Po,del:ht,emStrongLDelim:No,emStrongRDelimAst:Qo,emStrongRDelimUnd:Wo,escape:Lo,link:Yo,nolink:ma,punctuation:Fo,reflink:va,reflinkSearch:er,tag:Xo,text:Oo,url:ht},tr={...Fn,link:le(/^!?\[(label)\]\((.*?)\)/).replace("label",Ft).getRegex(),reflink:le(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ft).getRegex()},gn={...Fn,emStrongRDelimAst:Ko,emStrongLDelim:Uo,url:le(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},nr={...gn,br:le(ua).replace("{2,}","*").getRegex(),text:le(gn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Tt={normal:Pn,gfm:Mo,pedantic:zo},dt={normal:Fn,gfm:gn,breaks:nr,pedantic:tr},lr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cl=e=>lr[e];function Ve(e,t){if(t){if(pe.escapeTest.test(e))return e.replace(pe.escapeReplace,Cl)}else if(pe.escapeTestNoEncode.test(e))return e.replace(pe.escapeReplaceNoEncode,Cl);return e}function _l(e){try{e=encodeURI(e).replace(pe.percentDecode,"%")}catch{return null}return e}function Tl(e,t){const n=e.replace(pe.findPipe,(i,o,r)=>{let s=!1,u=o;for(;--u>=0&&r[u]==="\\";)s=!s;return s?"|":" |"}),l=n.split(pe.splitPipe);let a=0;if(l[0].trim()||l.shift(),l.length>0&&!l.at(-1)?.trim()&&l.pop(),t)if(l.length>t)l.splice(t);else for(;l.length<t;)l.push("");for(;a<l.length;a++)l[a]=l[a].trim().replace(pe.slashPipe,"|");return l}function ft(e,t,n){const l=e.length;if(l===0)return"";let a=0;for(;a<l&&e.charAt(l-a-1)===t;)a++;return e.slice(0,l-a)}function ar(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let l=0;l<e.length;l++)if(e[l]==="\\")l++;else if(e[l]===t[0])n++;else if(e[l]===t[1]&&(n--,n<0))return l;return n>0?-2:-1}function ql(e,t,n,l,a){const i=t.href,o=t.title||null,r=e[1].replace(a.other.outputLinkReplace,"$1");l.state.inLink=!0;const s={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:r,tokens:l.inlineTokens(r)};return l.state.inLink=!1,s}function ir(e,t,n){const l=e.match(n.other.indentCodeCompensation);if(l===null)return t;const a=l[1];return t.split(`
`).map(i=>{const o=i.match(n.other.beginningSpace);if(o===null)return i;const[r]=o;return r.length>=a.length?i.slice(a.length):i}).join(`
`)}var Dt=class{options;rules;lexer;constructor(e){this.options=e||Je}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:ft(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],l=ir(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const l=ft(n,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(n=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:ft(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=ft(t[0],`
`).split(`
`),l="",a="";const i=[];for(;n.length>0;){let o=!1;const r=[];let s;for(s=0;s<n.length;s++)if(this.rules.other.blockquoteStart.test(n[s]))r.push(n[s]),o=!0;else if(!o)r.push(n[s]);else break;n=n.slice(s);const u=r.join(`
`),d=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${u}`:u,a=a?`${a}
${d}`:d;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,i,!0),this.lexer.state.top=h,n.length===0)break;const g=i.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){const v=g,k=v.raw+`
`+n.join(`
`),S=this.blockquote(k);i[i.length-1]=S,l=l.substring(0,l.length-v.raw.length)+S.raw,a=a.substring(0,a.length-v.text.length)+S.text;break}else if(g?.type==="list"){const v=g,k=v.raw+`
`+n.join(`
`),S=this.list(k);i[i.length-1]=S,l=l.substring(0,l.length-g.raw.length)+S.raw,a=a.substring(0,a.length-v.raw.length)+S.raw,n=k.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:i,text:a}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const l=n.length>1,a={type:"list",raw:"",ordered:l,start:l?+n.slice(0,-1):"",loose:!1,items:[]};n=l?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=l?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let o=!1;for(;e;){let s=!1,u="",d="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,U=>" ".repeat(3*U.length)),g=e.split(`
`,1)[0],v=!h.trim(),k=0;if(this.options.pedantic?(k=2,d=h.trimStart()):v?k=t[1].length+1:(k=t[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,d=h.slice(k),k+=t[1].length),v&&this.rules.other.blankLine.test(g)&&(u+=g+`
`,e=e.substring(g.length+1),s=!0),!s){const U=this.rules.other.nextBulletRegex(k),j=this.rules.other.hrRegex(k),z=this.rules.other.fencesBeginRegex(k),w=this.rules.other.headingBeginRegex(k),I=this.rules.other.htmlBeginRegex(k);for(;e;){const V=e.split(`
`,1)[0];let q;if(g=V,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),q=g):q=g.replace(this.rules.other.tabCharGlobal,"    "),z.test(g)||w.test(g)||I.test(g)||U.test(g)||j.test(g))break;if(q.search(this.rules.other.nonSpaceChar)>=k||!g.trim())d+=`
`+q.slice(k);else{if(v||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||z.test(h)||w.test(h)||j.test(h))break;d+=`
`+g}!v&&!g.trim()&&(v=!0),u+=V+`
`,e=e.substring(V.length+1),h=q.slice(k)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let S=null,_;this.options.gfm&&(S=this.rules.other.listIsTask.exec(d),S&&(_=S[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:u,task:!!S,checked:_,loose:!1,text:d,tokens:[]}),a.raw+=u}const r=a.items.at(-1);if(r)r.raw=r.raw.trimEnd(),r.text=r.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let s=0;s<a.items.length;s++)if(this.lexer.state.top=!1,a.items[s].tokens=this.lexer.blockTokens(a.items[s].text,[]),!a.loose){const u=a.items[s].tokens.filter(h=>h.type==="space"),d=u.length>0&&u.some(h=>this.rules.other.anyLine.test(h.raw));a.loose=d}if(a.loose)for(let s=0;s<a.items.length;s++)a.items[s].loose=!0;return a}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:l,title:a}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Tl(t[1]),l=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===l.length){for(const o of l)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(const o of a)i.rows.push(Tl(o,i.header.length).map((r,s)=>({text:r,tokens:this.lexer.inline(r),header:!1,align:i.align[s]})));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const i=ft(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{const i=ar(t[2],"()");if(i===-2)return;if(i>-1){const r=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,r).trim(),t[3]=""}}let l=t[2],a="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(l);i&&(l=i[1],a=i[3])}else a=t[3]?t[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?l=l.slice(1):l=l.slice(1,-1)),ql(t,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const l=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=t[l.toLowerCase()];if(!a){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return ql(n,a,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(l[1]||l[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const i=[...l[0]].length-1;let o,r,s=i,u=0;const d=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+i);(l=d.exec(t))!=null;){if(o=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!o)continue;if(r=[...o].length,l[3]||l[4]){s+=r;continue}else if((l[5]||l[6])&&i%3&&!((i+r)%3)){u+=r;continue}if(s-=r,s>0)continue;r=Math.min(r,r+s+u);const h=[...l[0]][0].length,g=e.slice(0,i+l.index+h+r);if(Math.min(i,r)%2){const k=g.slice(1,-1);return{type:"em",raw:g,text:k,tokens:this.lexer.inlineTokens(k)}}const v=g.slice(2,-2);return{type:"strong",raw:g,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const l=this.rules.other.nonSpaceChar.test(n),a=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return l&&a&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,l;return t[2]==="@"?(n=t[1],l="mailto:"+n):(n=t[1],l=n),{type:"link",raw:t[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,l;if(t[2]==="@")n=t[0],l="mailto:"+n;else{let a;do a=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(a!==t[0]);n=t[0],t[1]==="www."?l="http://"+t[0]:l=t[0]}return{type:"link",raw:t[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Me=class pn{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Je,this.options.tokenizer=this.options.tokenizer||new Dt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:pe,block:Tt.normal,inline:dt.normal};this.options.pedantic?(n.block=Tt.pedantic,n.inline=dt.pedantic):this.options.gfm&&(n.block=Tt.gfm,this.options.breaks?n.inline=dt.breaks:n.inline=dt.gfm),this.tokenizer.rules=n}static get rules(){return{block:Tt,inline:dt}}static lex(t,n){return new pn(n).lex(t)}static lexInline(t,n){return new pn(n).inlineTokens(t)}lex(t){t=t.replace(pe.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const l=this.inlineQueue[n];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],l=!1){for(this.options.pedantic&&(t=t.replace(pe.tabCharGlobal,"    ").replace(pe.spaceLine,""));t;){let a;if(this.options.extensions?.block?.some(o=>(a=o.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);const o=n.at(-1);a.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);const o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.at(-1).src=o.text):n.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);const o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),n.push(a);continue}let i=t;if(this.options.extensions?.startBlock){let o=1/0;const r=t.slice(1);let s;this.options.extensions.startBlock.forEach(u=>{s=u.call({lexer:this},r),typeof s=="number"&&s>=0&&(o=Math.min(o,s))}),o<1/0&&o>=0&&(i=t.substring(0,o+1))}if(this.state.top&&(a=this.tokenizer.paragraph(i))){const o=n.at(-1);l&&o?.type==="paragraph"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(a),l=i.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);const o=n.at(-1);o?.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(a);continue}if(t){const o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let l=t,a=null;if(this.tokens.links){const r=Object.keys(this.tokens.links);if(r.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)r.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,a.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;t;){i||(o=""),i=!1;let r;if(this.options.extensions?.inline?.some(u=>(r=u.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))continue;if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length);const u=n.at(-1);r.type==="text"&&u?.type==="text"?(u.raw+=r.raw,u.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,l,o)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),n.push(r);continue}let s=t;if(this.options.extensions?.startInline){let u=1/0;const d=t.slice(1);let h;this.options.extensions.startInline.forEach(g=>{h=g.call({lexer:this},d),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(s=t.substring(0,u+1))}if(r=this.tokenizer.inlineText(s)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(o=r.raw.slice(-1)),i=!0;const u=n.at(-1);u?.type==="text"?(u.raw+=r.raw,u.text+=r.text):n.push(r);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}},Ht=class{options;parser;constructor(e){this.options=e||Je}space(e){return""}code({text:e,lang:t,escaped:n}){const l=(t||"").match(pe.notSpaceStart)?.[0],a=e.replace(pe.endingNewline,"")+`
`;return l?'<pre><code class="language-'+Ve(l)+'">'+(n?a:Ve(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:Ve(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let l="";for(let o=0;o<e.items.length;o++){const r=e.items[o];l+=this.listitem(r)}const a=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+a+i+`>
`+l+"</"+a+`>
`}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+Ve(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let a=0;a<e.header.length;a++)n+=this.tablecell(e.header[a]);t+=this.tablerow({text:n});let l="";for(let a=0;a<e.rows.length;a++){const i=e.rows[a];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);l+=this.tablerow({text:n})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ve(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const l=this.parser.parseInline(n),a=_l(e);if(a===null)return l;e=a;let i='<a href="'+e+'"';return t&&(i+=' title="'+Ve(t)+'"'),i+=">"+l+"</a>",i}image({href:e,title:t,text:n,tokens:l}){l&&(n=this.parser.parseInline(l,this.parser.textRenderer));const a=_l(e);if(a===null)return Ve(n);e=a;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${Ve(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ve(e.text)}},Dn=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ze=class bn{options;renderer;textRenderer;constructor(t){this.options=t||Je,this.options.renderer=this.options.renderer||new Ht,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Dn}static parse(t,n){return new bn(n).parse(t)}static parseInline(t,n){return new bn(n).parseInline(t)}parse(t,n=!0){let l="";for(let a=0;a<t.length;a++){const i=t[a];if(this.options.extensions?.renderers?.[i.type]){const r=i,s=this.options.extensions.renderers[r.type].call({parser:this},r);if(s!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(r.type)){l+=s||"";continue}}const o=i;switch(o.type){case"space":{l+=this.renderer.space(o);continue}case"hr":{l+=this.renderer.hr(o);continue}case"heading":{l+=this.renderer.heading(o);continue}case"code":{l+=this.renderer.code(o);continue}case"table":{l+=this.renderer.table(o);continue}case"blockquote":{l+=this.renderer.blockquote(o);continue}case"list":{l+=this.renderer.list(o);continue}case"html":{l+=this.renderer.html(o);continue}case"paragraph":{l+=this.renderer.paragraph(o);continue}case"text":{let r=o,s=this.renderer.text(r);for(;a+1<t.length&&t[a+1].type==="text";)r=t[++a],s+=`
`+this.renderer.text(r);n?l+=this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s,escaped:!0}]}):l+=s;continue}default:{const r='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return l}parseInline(t,n=this.renderer){let l="";for(let a=0;a<t.length;a++){const i=t[a];if(this.options.extensions?.renderers?.[i.type]){const r=this.options.extensions.renderers[i.type].call({parser:this},i);if(r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){l+=r||"";continue}}const o=i;switch(o.type){case"escape":{l+=n.text(o);break}case"html":{l+=n.html(o);break}case"link":{l+=n.link(o);break}case"image":{l+=n.image(o);break}case"strong":{l+=n.strong(o);break}case"em":{l+=n.em(o);break}case"codespan":{l+=n.codespan(o);break}case"br":{l+=n.br(o);break}case"del":{l+=n.del(o);break}case"text":{l+=n.text(o);break}default:{const r='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return l}},sn,Vt=(sn=class{options;block;constructor(e){this.options=e||Je}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Me.lex:Me.lexInline}provideParser(){return this.block?ze.parse:ze.parseInline}},nl(sn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),sn),or=class{defaults=In();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ze;Renderer=Ht;TextRenderer=Dn;Lexer=Me;Tokenizer=Dt;Hooks=Vt;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const l of e)switch(n=n.concat(t.call(this,l)),l.type){case"table":{const a=l;for(const i of a.header)n=n.concat(this.walkTokens(i.tokens,t));for(const i of a.rows)for(const o of i)n=n.concat(this.walkTokens(o.tokens,t));break}case"list":{const a=l;n=n.concat(this.walkTokens(a.items,t));break}default:{const a=l;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{const o=a[i].flat(1/0);n=n.concat(this.walkTokens(o,t))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const l={...n};if(l.async=this.defaults.async||l.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const i=t.renderers[a.name];i?t.renderers[a.name]=function(...o){let r=a.renderer.apply(this,o);return r===!1&&(r=i.apply(this,o)),r}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=t[a.level];i?i.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),l.extensions=t),n.renderer){const a=this.defaults.renderer||new Ht(this.defaults);for(const i in n.renderer){if(!(i in a))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const o=i,r=n.renderer[o],s=a[o];a[o]=(...u)=>{let d=r.apply(a,u);return d===!1&&(d=s.apply(a,u)),d||""}}l.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new Dt(this.defaults);for(const i in n.tokenizer){if(!(i in a))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const o=i,r=n.tokenizer[o],s=a[o];a[o]=(...u)=>{let d=r.apply(a,u);return d===!1&&(d=s.apply(a,u)),d}}l.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new Vt;for(const i in n.hooks){if(!(i in a))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const o=i,r=n.hooks[o],s=a[o];Vt.passThroughHooks.has(i)?a[o]=u=>{if(this.defaults.async)return Promise.resolve(r.call(a,u)).then(h=>s.call(a,h));const d=r.call(a,u);return s.call(a,d)}:a[o]=(...u)=>{let d=r.apply(a,u);return d===!1&&(d=s.apply(a,u)),d}}l.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,i=n.walkTokens;l.walkTokens=function(o){let r=[];return r.push(i.call(this,o)),a&&(r=r.concat(a.call(this,o))),r}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Me.lex(e,t??this.defaults)}parser(e,t){return ze.parse(e,t??this.defaults)}parseMarkdown(e){return(n,l)=>{const a={...l},i={...this.defaults,...a},o=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);const r=i.hooks?i.hooks.provideLexer():e?Me.lex:Me.lexInline,s=i.hooks?i.hooks.provideParser():e?ze.parse:ze.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(u=>r(u,i)).then(u=>i.hooks?i.hooks.processAllTokens(u):u).then(u=>i.walkTokens?Promise.all(this.walkTokens(u,i.walkTokens)).then(()=>u):u).then(u=>s(u,i)).then(u=>i.hooks?i.hooks.postprocess(u):u).catch(o);try{i.hooks&&(n=i.hooks.preprocess(n));let u=r(n,i);i.hooks&&(u=i.hooks.processAllTokens(u)),i.walkTokens&&this.walkTokens(u,i.walkTokens);let d=s(u,i);return i.hooks&&(d=i.hooks.postprocess(d)),d}catch(u){return o(u)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+Ve(n.message+"",!0)+"</pre>";return t?Promise.resolve(l):l}if(t)return Promise.reject(n);throw n}}},Ze=new or;function ae(e,t){return Ze.parse(e,t)}ae.options=ae.setOptions=function(e){return Ze.setOptions(e),ae.defaults=Ze.defaults,ia(ae.defaults),ae};ae.getDefaults=In;ae.defaults=Je;ae.use=function(...e){return Ze.use(...e),ae.defaults=Ze.defaults,ia(ae.defaults),ae};ae.walkTokens=function(e,t){return Ze.walkTokens(e,t)};ae.parseInline=Ze.parseInline;ae.Parser=ze;ae.parser=ze.parse;ae.Renderer=Ht;ae.TextRenderer=Dn;ae.Lexer=Me;ae.lexer=Me.lex;ae.Tokenizer=Dt;ae.Hooks=Vt;ae.parse=ae;ae.options;ae.setOptions;ae.use;ae.walkTokens;ae.parseInline;ze.parse;Me.lex;const rr={style:{overflow:"auto",height:"100%"}},sr=["innerHTML"],ur=Te({__name:"FullEventHumanReadable",setup(e){const t=jl(),n=F(!1),l=()=>{n.value=!0,t.requestHumanReadableReport()},a=b(()=>ae.parse(t.humanReadableReport)),i=()=>{const o=window.open("","_blank");o?(o.document.write(`
      <html>
        <head>
          <title>Human Readable Report</title>
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css">
        </head>
        <body class="markdown-body">
          ${a.value}
        </body>
      </html>
    `),o.document.close(),o.focus(),o.print(),o.onafterprint=()=>{o.close()}):console.error("Failed to open a new window for printing the report.")};return(o,r)=>(ne(),be(Fe,null,[K(ke,{icon:"description",outline:"",rounded:"","no-caps":"",label:"See full event from server",onClick:l}),K(Fl,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=s=>n.value=s),"full-width":"","full-height":""},{default:te(()=>[K(fi,{class:"q-pa-md",style:{"max-height":"100%","max-width":"100%",overflow:"hidden"}},{default:te(()=>[W("div",rr,[W("article",{class:"markdown-body",innerHTML:a.value},null,8,sr)]),K(Ql,{position:"bottom-right",offset:[30,30]},{default:te(()=>[K(ke,{fab:"",icon:"print",color:"accent",onClick:i})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),cr=Te({__name:"SetApiCode",setup(e){const t=Nt(),n=()=>{const l=prompt("Enter the API code for Gemini:");if(l===null)return;if(l.trim()===""){alert("API code cannot be empty.");return}const a={type:"GSK_SEND_API_TO_SERVER",api:l.trim()};t.emit("admin-activities-set-api-code",a)};return(l,a)=>(ne(),ce(ke,{icon:"mdi-api",color:"accent",outline:"",rounded:"","no-caps":"",label:"Setup Gemini",onClick:n}))}}),dr={class:"row items-center justify-evenly"},fr=Te({__name:"FullEventFile",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Ge(e,"modelValue"),n=F(null),l=aa(),a=()=>{const s=JSON.stringify(t.value,null,2),u=new Blob([s],{type:"application/json"}),d=URL.createObjectURL(u),h=document.createElement("a");h.href=d,h.download="event_data.json",h.click(),URL.revokeObjectURL(d)},i=()=>{n.value&&n.value.click()},o=s=>{if(!s||typeof s!="object")return!1;const u=s;if(!u.event||typeof u.event!="object"||!Array.isArray(u.participants)||!Array.isArray(u.roles))return!1;const d=u.event;return!(typeof d.name!="string"||typeof d.description!="string"||typeof d.dynamics!="string"||typeof d.background!="string"||typeof d.language!="string"||u.participants.length>0&&!u.participants.every(h=>{const g=h;return typeof g.type=="string"&&typeof g.name=="string"&&typeof g.role=="string"&&typeof g.bio=="string"&&typeof g.avatarIdle=="string"&&typeof g.avatarListening=="string"&&typeof g.avatarThinking=="string"&&typeof g.avatarTalking=="string"})||u.roles.length>0&&!u.roles.every(h=>{const g=h;return typeof g.name=="string"&&typeof g.description=="string"}))},r=s=>{const u=s.target;if(u.files&&u.files[0]){const d=u.files[0],h=new FileReader;h.onload=g=>{try{const v=JSON.parse(g.target?.result);o(v)?(t.value=v,l.notify({type:"positive",message:"JSON uploaded successfully!"}),console.log("Uploaded JSON:",v)):(l.notify({type:"negative",message:"Invalid JSON structure. Please check the format."}),console.error("Invalid JSON structure:",v))}catch(v){l.notify({type:"negative",message:"Error parsing JSON file. Please ensure it is valid."}),console.error("Error parsing JSON file:",v)}},h.readAsText(d),u.value=""}};return(s,u)=>(ne(),be("div",dr,[W("div",null,[K(cr)]),W("div",null,[K(ke,{color:"primary",outline:"",rounded:"",icon:"save","no-caps":"",label:"Download",onClick:a,class:"q-mr-md"})]),W("div",null,[K(ke,{icon:"upload_file",color:"secondary",outline:"",rounded:"","no-caps":"",label:"Upload",onClick:i}),W("input",{ref_key:"fileInput",ref:n,type:"file",accept:".json",style:{display:"none"},onChange:r},null,544)]),W("div",null,[K(So,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=d=>t.value=d)},null,8,["modelValue"])]),W("div",null,[K(Co)]),W("div",null,[K(ur)])]))}}),hr={class:"q-pa-md"},vr={class:"q-pa-md"},mr={class:"q-pa-md"},gr={class:"q-pa-md"},pr={class:"full-width q-pa-md"},Cr=Te({__name:"AdminPage",setup(e){const t=Nt(),n=Rn(),l=F({event:{background:"",name:"GSK AI Conference 2023",description:"Join us for an exciting conference on the latest advancements in AI technology at GSK. Our expert speakers will share insights and knowledge on various AI applications in the pharmaceutical industry.",dynamics:"",language:"en-US"},participants:[{type:"",avatarIdle:"",avatarListening:"",avatarThinking:"",avatarTalking:"",name:"John Doe",bio:"AI Expert with 10 years of experience in the pharmaceutical industry.",role:"Moderator"},{type:"",avatarIdle:"",avatarListening:"",avatarThinking:"",avatarTalking:"",name:"Jane Smith",bio:"Data Scientist with a focus on AI applications in healthcare.",role:"Panelist"},{type:"human",avatarIdle:"",avatarListening:"",avatarThinking:"",avatarTalking:"",name:"Alice Johnson",bio:"Machine Learning Engineer with a passion for AI in drug discovery.",role:"Panelist"}],roles:[{name:"Moderator",description:"Facilitates the discussion and ensures that all participants have a chance to speak."},{name:"Panelist",description:"Engages in discussions and shares expertise on AI applications in the pharmaceutical industry."}]});ee(()=>n.allVoicesOptions,()=>{if(n.allVoicesOptions.length===0)return;let o=0;l.value.participants.forEach(r=>{r.type!=="human"&&(r.type=n?.allVoicesOptions?.[o]?.value||n?.allVoicesOptions?.[0]?.value||"",o++)})},{immediate:!0});const a=F(!0),i=()=>{if(!a.value){if(!confirm("Are you sure you want to stop the show?"))return;a.value=!0;return}if(!confirm("Are you sure you want to start the show?"))return;a.value=!1;const r={type:"GSK_SETTINGS_TO_INIT_AI",fullEventData:l.value};t.emit("admin-activities-init-ai",r)};return ee(()=>t.isConnected,()=>{t.isConnected||(a.value=!0)},{immediate:!0}),(o,r)=>(ne(),ce(Oi,null,{default:te(()=>[a.value?(ne(),ce(dn,{key:0,class:"q-pa-md"},{default:te(()=>[W("div",hr,[K(fr,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=s=>l.value=s)},null,8,["modelValue"])]),K(yi,{bordered:"",separator:"",class:"rounded-borders"},{default:te(()=>[K(nn,{"expand-separator":"",icon:"event",label:"Event editor",caption:`Name: ${l.value.event.name}`},{default:te(()=>[W("div",vr,[K(fo,{modelValue:l.value.event,"onUpdate:modelValue":r[1]||(r[1]=s=>l.value.event=s),editable:a.value},null,8,["modelValue","editable"])])]),_:1},8,["caption"]),K(nn,{"expand-separator":"",icon:"category",label:"Roles editor",caption:`Total: ${l.value.roles.length}`},{default:te(()=>[W("div",mr,[K(vo,{modelValue:l.value.roles,"onUpdate:modelValue":r[2]||(r[2]=s=>l.value.roles=s),editable:a.value},null,8,["modelValue","editable"])])]),_:1},8,["caption"]),K(nn,{"expand-separator":"",icon:"groups",label:"Participants editor",caption:`Total: ${l.value.participants.length}; AI participants: ${l.value.participants.filter(s=>s.type!=="human").length} `},{default:te(()=>[W("div",gr,[K(ro,{modelValue:l.value.participants,"onUpdate:modelValue":r[3]||(r[3]=s=>l.value.participants=s),editable:a.value,"full-event-data":l.value},null,8,["modelValue","editable","full-event-data"])])]),_:1},8,["caption"])]),_:1}),K(ke,{label:a.value?"Send data to AI":"Edit data",icon:a.value?"send":"edit",rounded:"",outline:"","no-caps":"",color:"primary",class:"q-mt-md full-width",disable:!wn(t).isConnected,onClick:i},null,8,["label","icon","disable"])]),_:1})):(ne(),ce(dn,{key:1,class:"row items-center justify-center"},{default:te(()=>[W("div",pr,[K(wo,{modelValue:l.value.participants,"onUpdate:modelValue":r[4]||(r[4]=s=>l.value.participants=s),editable:a.value,"full-event-data":l.value},null,8,["modelValue","editable","full-event-data"])]),K(Ql,{position:"bottom-right",offset:[18,18]},{default:te(()=>[K(ke,{fab:"",icon:"close",color:"negative",onClick:i})]),_:1})]),_:1}))]),_:1}))}});export{Cr as default};
