import{A as Q,g as I,a as z,C as g,D as M,I as E,c as o,h as r,B,r as d,L as K,o as O,$ as V,aa as W,w as Z,av as q}from"./index-dVou86D-.js";import{u as L}from"./use-timeout-D6NHJy6O.js";const p=Q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:n}}=I(),i=z(M,g);if(i===g)return console.error("QPage needs to be a deep child of QLayout"),g;if(z(E,g)===g)return console.error("QPage needs to be child of QPageContainer"),g;const f=o(()=>{const a=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof e.styleFn=="function"){const b=i.isContainer.value===!0?i.containerHeight.value:n.screen.height;return e.styleFn(a,b)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-a+"px":n.screen.height===0?a!==0?`calc(100vh - ${a}px)`:"100vh":n.screen.height-a+"px"}}),S=o(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>r("main",{class:S.value,style:f.value},B(l.default))}}),G={ratio:[String,Number]};function J(e,l){return o(()=>{const n=Number(e.ratio||(l!==void 0?l.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const U=1.7778,ee=Q({name:"QImg",props:{...G,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:U},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:l,emit:n}){const i=d(e.initialRatio),y=J(e,i),f=I(),{registerTimeout:S,removeTimeout:a}=L(),{registerTimeout:b,removeTimeout:w}=L(),C=o(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),N=o(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),u=[d(null),d(C.value)],s=d(0),v=d(!1),m=d(!1),R=o(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),k=o(()=>({width:e.width,height:e.height})),F=o(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),P=o(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function D(){if(w(),e.loadingShowDelay===0){v.value=!0;return}b(()=>{v.value=!0},e.loadingShowDelay)}function _(){w(),v.value=!1}function H({target:t}){q(f)===!1&&(a(),i.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,T(t,1))}function T(t,c){c===1e3||q(f)===!0||(t.complete===!0?j(t):S(()=>{T(t,c+1)},50))}function j(t){q(f)!==!0&&(s.value=s.value^1,u[s.value].value=null,_(),t.getAttribute("__qerror")!=="true"&&(m.value=!1),n("load",t.currentSrc||t.src))}function x(t){a(),_(),m.value=!0,u[s.value].value=N.value,u[s.value^1].value=C.value,n("error",t)}function $(t){const c=u[t].value,h={key:"img_"+t,class:F.value,style:P.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...c};return s.value===t?Object.assign(h,{class:h.class+"current",onLoad:H,onError:x}):h.class+="loaded",r("div",{class:"q-img__container absolute-full",key:"img"+t},r("img",h))}function A(){return v.value===!1?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},B(l[m.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},l.loading!==void 0?l.loading():e.noSpinner===!0?void 0:[r(W,{color:e.spinnerColor,size:e.spinnerSize})])}{let t=function(){Z(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,c=>{a(),m.value=!1,c===null?(_(),u[s.value^1].value=C.value):D(),u[s.value].value=c},{immediate:!0})};K.value===!0?O(t):t()}return()=>{const t=[];return y.value!==null&&t.push(r("div",{key:"filler",style:y.value})),u[0].value!==null&&t.push($(0)),u[1].value!==null&&t.push($(1)),t.push(r(V,{name:"q-transition--fade"},A)),r("div",{key:"main",class:R.value,style:k.value,role:"img","aria-label":e.alt},t)}}}),te="/assets/app-logo-BZVDI4vx.png";export{ee as Q,p as a,te as d};
